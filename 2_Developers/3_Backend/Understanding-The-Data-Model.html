<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Infogami Database Schema | Open Library Docs</title>
    <meta name="description" content="A new docs experience for Open Library">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/openlibrary-docs/assets/style.EBppSvHT.css" as="style">
    <link rel="preload stylesheet" href="/openlibrary-docs/vp-icons.css" as="style">
    
    <script type="module" src="/openlibrary-docs/assets/app.CMWjYADJ.js"></script>
    <link rel="preload" href="/openlibrary-docs/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/openlibrary-docs/assets/chunks/theme.C4jjDcLP.js">
    <link rel="modulepreload" href="/openlibrary-docs/assets/chunks/framework.BRQrZDXk.js">
    <link rel="modulepreload" href="/openlibrary-docs/assets/2_Developers_3_Backend_Understanding-The-Data-Model.md.Ce-e8PfW.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/openlibrary-docs/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>Open Library Docs</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/openlibrary-docs/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Home</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/internetarchive/openlibrary" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/internetarchive/openlibrary" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed is-link" data-v-51288d80 data-v-0009425e><div class="item" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/index.html" data-v-0009425e><!--[--><h2 class="text" data-v-0009425e>1_Everyone</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Community-Call.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Community-Call</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Google-Summer-of-Code.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Google-Summer-of-Code</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Hacktoberfest.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Hacktoberfest</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Home.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Home</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Internationalization.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Internationalization</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Open-Library-Community-Call-Minutes.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Open-Library-Community-Call-Minutes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Slack-Channels.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Slack-Channels</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed is-link has-active" data-v-51288d80 data-v-0009425e><div class="item" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/index.html" data-v-0009425e><!--[--><h2 class="text" data-v-0009425e>2_Developers</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>2_Frontend</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/2_Frontend/Frontend-Guide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Frontend-Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/2_Frontend/Using-Vue.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Using-Vue</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed has-active" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>3_Backend</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/3_Backend/Endpoints.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Endpoints</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/3_Backend/General.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>General</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/3_Backend/Understanding-The-Data-Model.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Understanding-The-Data-Model</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/3_Backend/Writing-Bots.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Writing-Bots</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/CONTRIBUTING.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>CONTRIBUTING</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/Git-Cheat-Sheet.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Git-Cheat-Sheet</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>misc</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/misc/Docker.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Docker</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/misc/Loading-Production-Book-Data.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Loading-Production-Book-Data</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/misc/OUTDATED-Getting-Started.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>OUTDATED-Getting-Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/misc/Searching-data-dumps-with-grep-and-jq.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Searching-data-dumps-with-grep-and-jq</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/misc/Testing.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Testing</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>3_Designers</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/3_Designers/Design-Pattern-Library.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Design-Pattern-Library</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>4_Librarians</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/4_Librarians/Creating-Community-Lists.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Creating-Community-Lists</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/4_Librarians/Guide-to-Identifiers.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Guide-to-Identifiers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/4_Librarians/Library-Metadata-Standards.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Library-Metadata-Standards</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/4_Librarians/Mangled-MARC.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Mangled-MARC</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>5_Projects</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Canonical-Books-Page.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Canonical-Books-Page</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Developing-the-Reading-Log.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Developing-the-Reading-Log</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Documentation.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Documentation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Lead:-Community-Coordinator.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Lead:-Community-Coordinator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Lead:-Community-Librarian.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Lead:-Community-Librarian</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Library-Community-Congress-2019.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Library-Community-Congress-2019</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Orphaned-Editions-Planning.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Orphaned-Editions-Planning</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Wikidata-Integration.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Wikidata-Integration</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed is-link" data-v-51288d80 data-v-0009425e><div class="item" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/index.html" data-v-0009425e><!--[--><h2 class="text" data-v-0009425e>6_Advanced</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Anti-Spam-Tools.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Anti-Spam-Tools</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Component-Library.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Component-Library</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Creating-and-Logging-in-as-a-new-user-on-your-local-client.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Creating-and-Logging-in-as-a-new-user-on-your-local-client</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Debugging-and-Performance-Profiling.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Debugging-and-Performance-Profiling</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Deployment-Guide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Deployment-Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Deployment-Scratchpad.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Deployment-Scratchpad</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Developer&#39;s-Guide-to-Data-Importing.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Developer's-Guide-to-Data-Importing</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Disaster-History-Log.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Disaster-History-Log</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Disaster-Recovery-&amp;-Immediate-Response.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Disaster-Recovery-&-Immediate-Response</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Feature-Flagging.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Feature-Flagging</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Generating-Data-Dumps.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Generating-Data-Dumps</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/HOWTO:-Open-Library-Project-Management.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>HOWTO:-Open-Library-Project-Management</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Monitoring.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Monitoring</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Podman-(docker-alternative).html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Podman-(docker-alternative)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Processing-ONIX-Feeds.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Processing-ONIX-Feeds</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Production-Service-Architecture.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Production-Service-Architecture</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Production-Service-Architecture_old.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Production-Service-Architecture_old</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Provisioning-Guide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Provisioning-Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Sitemap-Generation.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Sitemap-Generation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Solr.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Solr</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Using-Cache.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Using-Cache</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Using-the-API-with-Csharp.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Using-the-API-with-Csharp</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/archive.org-%E2%86%94-Open-Library-synchronisation.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>archive.org-↔-Open-Library-synchronisation</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><!----><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/Coding-Recipes.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Coding-Recipes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/Developer&#39;s-Starter-Guide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Developer's-Starter-Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/Fellowships.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Fellowships</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/History.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>History</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/Kubernetes.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Kubernetes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/The-Lifecycle-of-a-Network-Request.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>The-Lifecycle-of-a-Network-Request</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _openlibrary-docs_2_Developers_3_Backend_Understanding-The-Data-Model" data-v-e6f2a212><div><h2 id="adding-new-tables" tabindex="-1">Adding new Tables <a class="header-anchor" href="#adding-new-tables" aria-label="Permalink to &quot;Adding new Tables&quot;">​</a></h2><p>Interested in adding new table to our schema? Check out this reference PR: <a href="https://github.com/internetarchive/openlibrary/pull/7928/files" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary/pull/7928/files</a></p><h2 id="querying-for-data" tabindex="-1">Querying for Data <a class="header-anchor" href="#querying-for-data" aria-label="Permalink to &quot;Querying for Data&quot;">​</a></h2><p>The <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/core/bookshelves.py#L78-L90" target="_blank" rel="noreferrer"><code>bookshelves</code></a> core model shows us how we can use a database connection on the backend to query for data</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>from openlibrary.core import db</span></span>
<span class="line"><span>oldb = db.get_db() # i.e. web.database(**web.config.db_parameters)</span></span>
<span class="line"><span>query = &quot;SELECT count(*) from bookshelves_books&quot;</span></span>
<span class="line"><span>oldb.query(query)</span></span></code></pre></div><h3 id="fetching-things-individually-or-in-bulk" tabindex="-1">Fetching Things Individually or in Bulk <a class="header-anchor" href="#fetching-things-individually-or-in-bulk" aria-label="Permalink to &quot;Fetching Things Individually or in Bulk&quot;">​</a></h3><p>From within routers/controllers, it&#39;s much more common to use the <code>web.ctx.site</code> object to fetch individual or multiple records.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>doc = web.ctx.site.get(&quot;/works/OL5285479W&quot;)</span></span>
<span class="line"><span>keys = [&quot;/works/OL5285479W&quot;, &quot;/works/OL257943W&quot;, &quot;/works/OL27448W&quot;]</span></span>
<span class="line"><span>docs = web.ctx.site.get_many(keys)</span></span></code></pre></div><h2 id="understanding-infogami-infobase-and-web-py" tabindex="-1">Understanding Infogami, Infobase, and Web.py <a class="header-anchor" href="#understanding-infogami-infobase-and-web-py" aria-label="Permalink to &quot;Understanding Infogami, Infobase, and Web.py&quot;">​</a></h2><p>Open Library is built using a wiki engine called <a href="https://openlibrary.org/dev/docs/infogami" target="_blank" rel="noreferrer">infogami</a> which sits on top of the <code>web.py</code> python micro-web framework (comparable to flask). Web.py uses a variable called <code>web.ctx</code> to maintain the context of the application during/across a http request. Web.py also maintains a postgres database connection using <code>web.db</code>. Infogami extends and wraps the <code>web.db</code> controller by offering a system called <code>infobase</code> which behaves like an ORM (db wrapper) to allow us to define arbitrary data types like works, editions, authors, etc.</p><p>At the simplest level, Infobase works by relying on 2 tables: <code>things</code> and <code>data</code>:</p><ul><li><code>things</code> gives every object in our system and ID, a type, and a reference to its data in the data table.</li><li><code>data</code> is just a massive catalog of json data that can be references by querying and joining things</li></ul><p>Infogami injects a utility called <code>site</code> into web.py&#39;s <code>web.ctx</code> (<a href="https://webpy.org/cookbook/ctx" target="_blank" rel="noreferrer">https://webpy.org/cookbook/ctx</a>) variable (ctx maintains information and connections specific to the current client). The <code>web.ctx.site</code> utility handles queries and joins for you so you can request and key from the things table, fetch all its corresponding data, and also leverage and models and functions we have defined for that thing&#39;s type.</p><h1 id="infogami-database-schema" tabindex="-1">Infogami Database Schema <a class="header-anchor" href="#infogami-database-schema" aria-label="Permalink to &quot;Infogami Database Schema&quot;">​</a></h1><p>Every Infogami page on Open Library (i.e. something with a URL) has an associated type. Each type contains a schema that states what fields can be used with it and what format those fields are in. Those are used to generate view and edit templates which can then be further customized as a particular type requires. Infogami provides a generic way through it&#39;s wiki to create new types as needed.</p><p>Aside from the tables listed <a href="#open-library-feature-tables">here</a>, Open Library in essence only really has <strong>only two database tables</strong>. By default they will have the same pretty basic functionality through Infogami</p><h3 id="thing-table" tabindex="-1">Thing table <a class="header-anchor" href="#thing-table" aria-label="Permalink to &quot;Thing table&quot;">​</a></h3><p>The thing table defines <a href="https://openlibrary.org/dev/docs/infogami#anchor5" target="_blank" rel="noreferrer">types</a> like editions, works authors, users, languages. The thing table also keeps track of instances of things by their identifiers it basically registers their IDs in the table as an instance.</p><p>Entries in a sample thing table</p><table tabindex="0"><thead><tr><th>id</th><th>key</th><th>type</th><th>latest_revision</th><th>created</th><th>last_modified</th></tr></thead><tbody><tr><td>2</td><td>/type/key</td><td>1</td><td>1</td><td>2013-03-20 10:27:01.322813</td><td>2013-03-20 10:27:01.322813</td></tr><tr><td>3</td><td>/type/string</td><td>1</td><td>1</td><td>2013-03-20 10:27:01.322813</td><td>2013-03-20 10:27:01.322813</td></tr><tr><td>4</td><td>/type/text</td><td>1</td><td>1</td><td>2013-03-20 10:27:01.322813</td><td>2013-03-20 10:27:01.322813</td></tr><tr><td>5</td><td>/type/int</td><td>1</td><td>1</td><td>2013-03-20 10:27:01.322813</td><td>2013-03-20 10:27:01.322813</td></tr></tbody></table><h3 id="data-table" tabindex="-1">Data table <a class="header-anchor" href="#data-table" aria-label="Permalink to &quot;Data table&quot;">​</a></h3><p>The data table on the other hand maps one of these types to all of the data associated with it Infogami provides a generic way through it&#39;s wiki to create new types as are needed</p><p>Entry in a sample data table</p><table tabindex="0"><thead><tr><th>thing_id</th><th>revision</th><th>data</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>{&quot;created&quot;: {&quot;type&quot;: &quot;/type/datetime&quot;, &quot;value&quot;: &quot;2013-03-20T10:27:01.223351&quot;}, &quot;last_modified&quot;: {&quot;type&quot;: &quot;/type/datetime&quot;, &quot; value&quot;: &quot;2013-03-20T10:27:01.223351&quot;}, &quot;latest_revision&quot;: 1, &quot;key&quot;: &quot;/type/type&quot;, &quot;type&quot;: {&quot;key&quot;: &quot;/type/type&quot;}, &quot;id&quot;: 1, &quot;revision&quot;: 1}</td></tr></tbody></table><p>Read further about Infogami and type on: <a href="https://openlibrary.org/dev/docs/infogami" target="_blank" rel="noreferrer">https://openlibrary.org/dev/docs/infogami</a></p><h1 id="open-library-feature-tables" tabindex="-1">Open Library Feature Tables <a class="header-anchor" href="#open-library-feature-tables" aria-label="Permalink to &quot;Open Library Feature Tables&quot;">​</a></h1><p>Open Library has a number of additional tables that are used to support a variety of features. The DDL for these tables can be found <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/core/schema.sql" target="_blank" rel="noreferrer">here</a>.</p><p><img src="https://github.com/internetarchive/openlibrary/assets/28732543/9542a554-8d6c-4d78-ad7d-c41845ec9af8" alt="Screenshot from 2023-12-14 11-19-48"></p><h2 id="bookshelves-and-bookshelves-books" tabindex="-1"><code>bookshelves</code> and <code>bookshelves_books</code> <a class="header-anchor" href="#bookshelves-and-bookshelves-books" aria-label="Permalink to &quot;`bookshelves` and `bookshelves_books`&quot;">​</a></h2><p><img src="https://github.com/internetarchive/openlibrary/assets/28732543/2c9f654a-d926-4faf-9db0-499fcc0bf6ae" alt="Screenshot from 2023-12-14 11-20-02"></p><p>These tables are used to store the books that patrons have on their &quot;Want to Read&quot;, &quot;Currently Reading&quot;, and &quot;Already Read&quot; reading log shelves. The <code>bookshelves_books</code> table holds most of this data, with <code>bookshelves</code> acting as a look-up table for shelf names.</p><p><a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/core/bookshelves.py" target="_blank" rel="noreferrer"><code>bookshelves.py</code></a> provides functions which interact with the reading log tables.</p><h2 id="yearly-reading-goals" tabindex="-1"><code>yearly_reading_goals</code> <a class="header-anchor" href="#yearly-reading-goals" aria-label="Permalink to &quot;`yearly_reading_goals`&quot;">​</a></h2><p><img src="https://github.com/internetarchive/openlibrary/assets/28732543/51a29f03-25fd-4286-8423-23ae3c8dba1d" alt="yearly_reading_goals"></p><p>This table stores the <code>target</code> number of books that a patron commits to reading in a given year. Functions which interact with the <code>yearly_reading_goals</code> table can be found in <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/core/yearly_reading_goals.py" target="_blank" rel="noreferrer"><code>yearly_reading_goals.py</code></a>.</p><h2 id="bookshelves-events" tabindex="-1"><code>bookshelves_events</code> <a class="header-anchor" href="#bookshelves-events" aria-label="Permalink to &quot;`bookshelves_events`&quot;">​</a></h2><p><img src="https://github.com/internetarchive/openlibrary/assets/28732543/38fdd1e8-07ce-445b-9ca8-2621b54e00e3" alt="check_ins"></p><p>A patron can track the last date that they have finished any book that is on their &quot;Already Read&quot; shelf. The <code>bookshelves_events</code> table stores these dates, and may later be used to store other dates that a patron may want to track (date they started reading the book, start and finish dates of other times that they have read a book, etc.).</p><p>Related code can be found in <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/core/bookshelves_events.py" target="_blank" rel="noreferrer"><code>bookshelves_events.py</code></a>.</p><h2 id="observations" tabindex="-1"><code>observations</code> <a class="header-anchor" href="#observations" aria-label="Permalink to &quot;`observations`&quot;">​</a></h2><p><img src="https://github.com/internetarchive/openlibrary/assets/28732543/8a1fcfb1-30df-4f58-99f3-a0efb757b09a" alt="observations"></p><p>Patron&#39;s can give structured reviews of books by attaching any number of pre-defined tags to a work. These are stored in the <code>observations</code> table.</p><p>The code that interacts with this table, as well as the definitions for the tags, are found in <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/core/observations.py" target="_blank" rel="noreferrer"><code>observations.py</code></a>.</p><h2 id="booknotes" tabindex="-1"><code>booknotes</code> <a class="header-anchor" href="#booknotes" aria-label="Permalink to &quot;`booknotes`&quot;">​</a></h2><p><img src="https://github.com/internetarchive/openlibrary/assets/28732543/41986736-6fdc-4bb6-9bbf-1544fa4ff60e" alt="booknotes"></p><p>A patron can add private notes that only they can read to any work. The <code>booknotes</code> table stores these notes. <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/core/booknotes.py" target="_blank" rel="noreferrer"><code>booknotes.py</code></a> contains the code that interacts with this table.</p><h2 id="ratings" tabindex="-1"><code>ratings</code> <a class="header-anchor" href="#ratings" aria-label="Permalink to &quot;`ratings`&quot;">​</a></h2><p><img src="https://github.com/internetarchive/openlibrary/assets/28732543/9f9f000c-9cdc-4aa7-a022-bd4c1855266b" alt="ratings"></p><p>Patrons can submit a star rating for a work. The <code>ratings</code> table holds these star ratings. Consult <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/core/ratings.py" target="_blank" rel="noreferrer"><code>ratings.py</code></a> for related code.</p><h2 id="community-edits-queue" tabindex="-1"><code>community_edits_queue</code> <a class="header-anchor" href="#community-edits-queue" aria-label="Permalink to &quot;`community_edits_queue`&quot;">​</a></h2><p><img src="https://github.com/internetarchive/openlibrary/assets/28732543/9dc1c072-176d-4f54-96b4-3b2ea582a744" alt="merge_queue"></p><p>This table holds librarian requests, which in turn are used to populate the librarian request table at <a href="https://openlibrary.org/merges" target="_blank" rel="noreferrer">https://openlibrary.org/merges</a>. Code which interacts directly with thus table can be found in <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/core/edits.py" target="_blank" rel="noreferrer"><code>edits.py</code></a>.</p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/openlibrary-docs/2_Developers/3_Backend/General.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>General</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/openlibrary-docs/2_Developers/3_Backend/Writing-Bots.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>Writing-Bots</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"1_everyone_community-call.md\":\"D81Nk5I_\",\"1_everyone_google-summer-of-code.md\":\"D_s3pbzh\",\"1_everyone_hacktoberfest.md\":\"Cln9x4d0\",\"1_everyone_home.md\":\"70tW4Plp\",\"1_everyone_index.md\":\"CSkKJta7\",\"1_everyone_internationalization.md\":\"C5n0068W\",\"1_everyone_open-library-community-call-minutes.md\":\"Dg7FQiyU\",\"1_everyone_slack-channels.md\":\"h9YYY48T\",\"2_developers_2_frontend_frontend-guide.md\":\"B85A2hpm\",\"2_developers_2_frontend_using-vue.md\":\"BP91373s\",\"2_developers_3_backend_endpoints.md\":\"CVf7TIZK\",\"2_developers_3_backend_general.md\":\"DTkBxo73\",\"2_developers_3_backend_understanding-the-data-model.md\":\"Ce-e8PfW\",\"2_developers_3_backend_writing-bots.md\":\"BDyROxCt\",\"2_developers_contributing.md\":\"Y03TLhsJ\",\"2_developers_git-cheat-sheet.md\":\"cexXtKHd\",\"2_developers_index.md\":\"Cz7jp28V\",\"2_developers_misc_docker.md\":\"CBL1pL5i\",\"2_developers_misc_loading-production-book-data.md\":\"4iz-Oji5\",\"2_developers_misc_outdated-getting-started.md\":\"gr54fr3i\",\"2_developers_misc_searching-data-dumps-with-grep-and-jq.md\":\"4yzLUW3G\",\"2_developers_misc_testing.md\":\"ZBo9ZE3c\",\"3_designers_design-pattern-library.md\":\"DzUXOKXt\",\"4_librarians_creating-community-lists.md\":\"Du55-b0b\",\"4_librarians_guide-to-identifiers.md\":\"CEjbXawF\",\"4_librarians_library-metadata-standards.md\":\"DtP9GBXC\",\"4_librarians_mangled-marc.md\":\"B_l9qSPJ\",\"5_projects_canonical-books-page.md\":\"D_-Lm6_A\",\"5_projects_developing-the-reading-log.md\":\"BgchTE6D\",\"5_projects_documentation.md\":\"CFBj7BM3\",\"5_projects_lead_-community-coordinator.md\":\"CTW5nrbZ\",\"5_projects_lead_-community-librarian.md\":\"dh9dfDRK\",\"5_projects_library-community-congress-2019.md\":\"CufnlLxu\",\"5_projects_orphaned-editions-planning.md\":\"Cfm08vq5\",\"5_projects_wikidata-integration.md\":\"DH3JXJzv\",\"6_advanced_anti-spam-tools.md\":\"D_s4iGNL\",\"6_advanced_archive.org-↔-open-library-synchronisation.md\":\"DC87lA0c\",\"6_advanced_component-library.md\":\"fR6Kg19S\",\"6_advanced_creating-and-logging-in-as-a-new-user-on-your-local-client.md\":\"B5Pm44If\",\"6_advanced_debugging-and-performance-profiling.md\":\"C0SX8Kqc\",\"6_advanced_deployment-guide.md\":\"DQGoFKCh\",\"6_advanced_deployment-scratchpad.md\":\"DXoq1M6k\",\"6_advanced_developer's-guide-to-data-importing.md\":\"D3BMOMcb\",\"6_advanced_disaster-history-log.md\":\"FYevO4me\",\"6_advanced_disaster-recovery-_-immediate-response.md\":\"S-sAKNLe\",\"6_advanced_feature-flagging.md\":\"DDigcikr\",\"6_advanced_generating-data-dumps.md\":\"CODiqCch\",\"6_advanced_howto_-open-library-project-management.md\":\"DJcYZTP9\",\"6_advanced_index.md\":\"0KanYzdR\",\"6_advanced_monitoring.md\":\"WTeB0bQr\",\"6_advanced_podman-(docker-alternative).md\":\"DgBGlgcB\",\"6_advanced_processing-onix-feeds.md\":\"7CvTYYhP\",\"6_advanced_production-service-architecture.md\":\"DLVUXDVm\",\"6_advanced_production-service-architecture_old.md\":\"XMH9Orss\",\"6_advanced_provisioning-guide.md\":\"CQLBhswa\",\"6_advanced_sitemap-generation.md\":\"DYWbSn9F\",\"6_advanced_solr.md\":\"BBRIcpPj\",\"6_advanced_using-cache.md\":\"C4sQuPqT\",\"6_advanced_using-the-api-with-csharp.md\":\"DN0VI78R\",\"coding-recipes.md\":\"vXwh4xU_\",\"developer's-starter-guide.md\":\"CVPppFf0\",\"fellowships.md\":\"pggalBzS\",\"history.md\":\"0li5B7fk\",\"index.md\":\"LWpd28u4\",\"kubernetes.md\":\"Dtn1BxJt\",\"the-lifecycle-of-a-network-request.md\":\"Dc66gyLL\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Open Library Docs\",\"description\":\"A new docs experience for Open Library\",\"base\":\"/openlibrary-docs/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"}],\"search\":{\"provider\":\"local\"},\"sidebar\":[{\"text\":\"1_Everyone\",\"link\":\"/1_Everyone/index.md\",\"items\":[{\"text\":\"Community-Call\",\"link\":\"/1_Everyone/Community-Call\"},{\"text\":\"Google-Summer-of-Code\",\"link\":\"/1_Everyone/Google-Summer-of-Code\"},{\"text\":\"Hacktoberfest\",\"link\":\"/1_Everyone/Hacktoberfest\"},{\"text\":\"Home\",\"link\":\"/1_Everyone/Home\"},{\"text\":\"Internationalization\",\"link\":\"/1_Everyone/Internationalization\"},{\"text\":\"Open-Library-Community-Call-Minutes\",\"link\":\"/1_Everyone/Open-Library-Community-Call-Minutes\"},{\"text\":\"Slack-Channels\",\"link\":\"/1_Everyone/Slack-Channels\"}],\"collapsed\":true},{\"text\":\"2_Developers\",\"link\":\"/2_Developers/index.md\",\"items\":[{\"text\":\"2_Frontend\",\"items\":[{\"text\":\"Frontend-Guide\",\"link\":\"/2_Developers/2_Frontend/Frontend-Guide\"},{\"text\":\"Using-Vue\",\"link\":\"/2_Developers/2_Frontend/Using-Vue\"}],\"collapsed\":true},{\"text\":\"3_Backend\",\"items\":[{\"text\":\"Endpoints\",\"link\":\"/2_Developers/3_Backend/Endpoints\"},{\"text\":\"General\",\"link\":\"/2_Developers/3_Backend/General\"},{\"text\":\"Understanding-The-Data-Model\",\"link\":\"/2_Developers/3_Backend/Understanding-The-Data-Model\"},{\"text\":\"Writing-Bots\",\"link\":\"/2_Developers/3_Backend/Writing-Bots\"}],\"collapsed\":true},{\"text\":\"CONTRIBUTING\",\"link\":\"/2_Developers/CONTRIBUTING\"},{\"text\":\"Git-Cheat-Sheet\",\"link\":\"/2_Developers/Git-Cheat-Sheet\"},{\"text\":\"misc\",\"items\":[{\"text\":\"Docker\",\"link\":\"/2_Developers/misc/Docker\"},{\"text\":\"Loading-Production-Book-Data\",\"link\":\"/2_Developers/misc/Loading-Production-Book-Data\"},{\"text\":\"OUTDATED-Getting-Started\",\"link\":\"/2_Developers/misc/OUTDATED-Getting-Started\"},{\"text\":\"Searching-data-dumps-with-grep-and-jq\",\"link\":\"/2_Developers/misc/Searching-data-dumps-with-grep-and-jq\"},{\"text\":\"Testing\",\"link\":\"/2_Developers/misc/Testing\"}],\"collapsed\":true}],\"collapsed\":true},{\"text\":\"3_Designers\",\"items\":[{\"text\":\"Design-Pattern-Library\",\"link\":\"/3_Designers/Design-Pattern-Library\"}],\"collapsed\":true},{\"text\":\"4_Librarians\",\"items\":[{\"text\":\"Creating-Community-Lists\",\"link\":\"/4_Librarians/Creating-Community-Lists\"},{\"text\":\"Guide-to-Identifiers\",\"link\":\"/4_Librarians/Guide-to-Identifiers\"},{\"text\":\"Library-Metadata-Standards\",\"link\":\"/4_Librarians/Library-Metadata-Standards\"},{\"text\":\"Mangled-MARC\",\"link\":\"/4_Librarians/Mangled-MARC\"}],\"collapsed\":true},{\"text\":\"5_Projects\",\"items\":[{\"text\":\"Canonical-Books-Page\",\"link\":\"/5_Projects/Canonical-Books-Page\"},{\"text\":\"Developing-the-Reading-Log\",\"link\":\"/5_Projects/Developing-the-Reading-Log\"},{\"text\":\"Documentation\",\"link\":\"/5_Projects/Documentation\"},{\"text\":\"Lead:-Community-Coordinator\",\"link\":\"/5_Projects/Lead:-Community-Coordinator\"},{\"text\":\"Lead:-Community-Librarian\",\"link\":\"/5_Projects/Lead:-Community-Librarian\"},{\"text\":\"Library-Community-Congress-2019\",\"link\":\"/5_Projects/Library-Community-Congress-2019\"},{\"text\":\"Orphaned-Editions-Planning\",\"link\":\"/5_Projects/Orphaned-Editions-Planning\"},{\"text\":\"Wikidata-Integration\",\"link\":\"/5_Projects/Wikidata-Integration\"}],\"collapsed\":true},{\"text\":\"6_Advanced\",\"link\":\"/6_Advanced/index.md\",\"items\":[{\"text\":\"Anti-Spam-Tools\",\"link\":\"/6_Advanced/Anti-Spam-Tools\"},{\"text\":\"Component-Library\",\"link\":\"/6_Advanced/Component-Library\"},{\"text\":\"Creating-and-Logging-in-as-a-new-user-on-your-local-client\",\"link\":\"/6_Advanced/Creating-and-Logging-in-as-a-new-user-on-your-local-client\"},{\"text\":\"Debugging-and-Performance-Profiling\",\"link\":\"/6_Advanced/Debugging-and-Performance-Profiling\"},{\"text\":\"Deployment-Guide\",\"link\":\"/6_Advanced/Deployment-Guide\"},{\"text\":\"Deployment-Scratchpad\",\"link\":\"/6_Advanced/Deployment-Scratchpad\"},{\"text\":\"Developer's-Guide-to-Data-Importing\",\"link\":\"/6_Advanced/Developer's-Guide-to-Data-Importing\"},{\"text\":\"Disaster-History-Log\",\"link\":\"/6_Advanced/Disaster-History-Log\"},{\"text\":\"Disaster-Recovery-&-Immediate-Response\",\"link\":\"/6_Advanced/Disaster-Recovery-&-Immediate-Response\"},{\"text\":\"Feature-Flagging\",\"link\":\"/6_Advanced/Feature-Flagging\"},{\"text\":\"Generating-Data-Dumps\",\"link\":\"/6_Advanced/Generating-Data-Dumps\"},{\"text\":\"HOWTO:-Open-Library-Project-Management\",\"link\":\"/6_Advanced/HOWTO:-Open-Library-Project-Management\"},{\"text\":\"Monitoring\",\"link\":\"/6_Advanced/Monitoring\"},{\"text\":\"Podman-(docker-alternative)\",\"link\":\"/6_Advanced/Podman-(docker-alternative)\"},{\"text\":\"Processing-ONIX-Feeds\",\"link\":\"/6_Advanced/Processing-ONIX-Feeds\"},{\"text\":\"Production-Service-Architecture\",\"link\":\"/6_Advanced/Production-Service-Architecture\"},{\"text\":\"Production-Service-Architecture_old\",\"link\":\"/6_Advanced/Production-Service-Architecture_old\"},{\"text\":\"Provisioning-Guide\",\"link\":\"/6_Advanced/Provisioning-Guide\"},{\"text\":\"Sitemap-Generation\",\"link\":\"/6_Advanced/Sitemap-Generation\"},{\"text\":\"Solr\",\"link\":\"/6_Advanced/Solr\"},{\"text\":\"Using-Cache\",\"link\":\"/6_Advanced/Using-Cache\"},{\"text\":\"Using-the-API-with-Csharp\",\"link\":\"/6_Advanced/Using-the-API-with-Csharp\"},{\"text\":\"archive.org-↔-Open-Library-synchronisation\",\"link\":\"/6_Advanced/archive.org-↔-Open-Library-synchronisation\"}],\"collapsed\":true},{\"text\":\"Coding-Recipes\",\"link\":\"/Coding-Recipes\"},{\"text\":\"Developer's-Starter-Guide\",\"link\":\"/Developer's-Starter-Guide\"},{\"text\":\"Fellowships\",\"link\":\"/Fellowships\"},{\"text\":\"History\",\"link\":\"/History\"},{\"text\":\"Kubernetes\",\"link\":\"/Kubernetes\"},{\"text\":\"The-Lifecycle-of-a-Network-Request\",\"link\":\"/The-Lifecycle-of-a-Network-Request\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/internetarchive/openlibrary\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>