<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API Authentication for Imports | Open Library Docs</title>
    <meta name="description" content="A new docs experience for Open Library">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/openlibrary-docs/assets/style.EBppSvHT.css" as="style">
    <link rel="preload stylesheet" href="/openlibrary-docs/vp-icons.css" as="style">
    
    <script type="module" src="/openlibrary-docs/assets/app.CMWjYADJ.js"></script>
    <link rel="preload" href="/openlibrary-docs/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/openlibrary-docs/assets/chunks/theme.C4jjDcLP.js">
    <link rel="modulepreload" href="/openlibrary-docs/assets/chunks/framework.BRQrZDXk.js">
    <link rel="modulepreload" href="/openlibrary-docs/assets/6_Advanced_Developer's-Guide-to-Data-Importing.md.D3BMOMcb.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/openlibrary-docs/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>Open Library Docs</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/openlibrary-docs/" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Home</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/internetarchive/openlibrary" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/internetarchive/openlibrary" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed is-link" data-v-51288d80 data-v-0009425e><div class="item" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/index.html" data-v-0009425e><!--[--><h2 class="text" data-v-0009425e>1_Everyone</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Community-Call.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Community-Call</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Google-Summer-of-Code.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Google-Summer-of-Code</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Hacktoberfest.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Hacktoberfest</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Home.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Home</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Internationalization.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Internationalization</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Open-Library-Community-Call-Minutes.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Open-Library-Community-Call-Minutes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/1_Everyone/Slack-Channels.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Slack-Channels</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed is-link" data-v-51288d80 data-v-0009425e><div class="item" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/index.html" data-v-0009425e><!--[--><h2 class="text" data-v-0009425e>2_Developers</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><section class="VPSidebarItem level-1 collapsible collapsed" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>2_Frontend</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/2_Frontend/Frontend-Guide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Frontend-Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/2_Frontend/Using-Vue.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Using-Vue</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>3_Backend</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/3_Backend/Endpoints.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Endpoints</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/3_Backend/General.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>General</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/3_Backend/Understanding-The-Data-Model.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Understanding-The-Data-Model</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/3_Backend/Writing-Bots.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Writing-Bots</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/CONTRIBUTING.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>CONTRIBUTING</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/Git-Cheat-Sheet.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Git-Cheat-Sheet</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-0009425e data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h3 class="text" data-v-0009425e>misc</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/misc/Docker.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Docker</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/misc/Loading-Production-Book-Data.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Loading-Production-Book-Data</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/misc/OUTDATED-Getting-Started.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>OUTDATED-Getting-Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/misc/Searching-data-dumps-with-grep-and-jq.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Searching-data-dumps-with-grep-and-jq</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/2_Developers/misc/Testing.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Testing</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>3_Designers</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/3_Designers/Design-Pattern-Library.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Design-Pattern-Library</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>4_Librarians</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/4_Librarians/Creating-Community-Lists.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Creating-Community-Lists</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/4_Librarians/Guide-to-Identifiers.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Guide-to-Identifiers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/4_Librarians/Library-Metadata-Standards.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Library-Metadata-Standards</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/4_Librarians/Mangled-MARC.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Mangled-MARC</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>5_Projects</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Canonical-Books-Page.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Canonical-Books-Page</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Developing-the-Reading-Log.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Developing-the-Reading-Log</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Documentation.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Documentation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Lead:-Community-Coordinator.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Lead:-Community-Coordinator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Lead:-Community-Librarian.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Lead:-Community-Librarian</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Library-Community-Congress-2019.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Library-Community-Congress-2019</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Orphaned-Editions-Planning.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Orphaned-Editions-Planning</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/5_Projects/Wikidata-Integration.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Wikidata-Integration</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0 collapsible collapsed is-link has-active" data-v-51288d80 data-v-0009425e><div class="item" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/index.html" data-v-0009425e><!--[--><h2 class="text" data-v-0009425e>6_Advanced</h2><!--]--></a><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-0009425e><span class="vpi-chevron-right caret-icon" data-v-0009425e></span></div></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Anti-Spam-Tools.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Anti-Spam-Tools</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Component-Library.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Component-Library</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Creating-and-Logging-in-as-a-new-user-on-your-local-client.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Creating-and-Logging-in-as-a-new-user-on-your-local-client</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Debugging-and-Performance-Profiling.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Debugging-and-Performance-Profiling</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Deployment-Guide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Deployment-Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Deployment-Scratchpad.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Deployment-Scratchpad</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Developer&#39;s-Guide-to-Data-Importing.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Developer's-Guide-to-Data-Importing</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Disaster-History-Log.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Disaster-History-Log</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Disaster-Recovery-&amp;-Immediate-Response.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Disaster-Recovery-&-Immediate-Response</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Feature-Flagging.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Feature-Flagging</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Generating-Data-Dumps.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Generating-Data-Dumps</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/HOWTO:-Open-Library-Project-Management.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>HOWTO:-Open-Library-Project-Management</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Monitoring.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Monitoring</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Podman-(docker-alternative).html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Podman-(docker-alternative)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Processing-ONIX-Feeds.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Processing-ONIX-Feeds</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Production-Service-Architecture.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Production-Service-Architecture</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Production-Service-Architecture_old.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Production-Service-Architecture_old</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Provisioning-Guide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Provisioning-Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Sitemap-Generation.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Sitemap-Generation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Solr.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Solr</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Using-Cache.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Using-Cache</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/Using-the-API-with-Csharp.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Using-the-API-with-Csharp</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/6_Advanced/archive.org-%E2%86%94-Open-Library-synchronisation.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>archive.org-↔-Open-Library-synchronisation</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><!----><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/Coding-Recipes.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Coding-Recipes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/Developer&#39;s-Starter-Guide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Developer's-Starter-Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/Fellowships.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Fellowships</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/History.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>History</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/Kubernetes.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Kubernetes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/openlibrary-docs/The-Lifecycle-of-a-Network-Request.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>The-Lifecycle-of-a-Network-Request</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _openlibrary-docs_6_Advanced_Developer&#39;s-Guide-to-Data-Importing" data-v-e6f2a212><div><p>For programmatically bulk importing new books and authors into Open Library.</p><h2 id="start-here" tabindex="-1">Start here <a class="header-anchor" href="#start-here" aria-label="Permalink to &quot;Start here&quot;">​</a></h2><p>Watch <a href="https://archive.org/details/openlibrary-tour-2020/ol_imports_comprehensive.mp4" target="_blank" rel="noreferrer">this video</a> about how Open Library import pipeline works. Staff should see <a href="https://docs.google.com/document/d/1KRtKYFEp40rgWlxWR1G3v60YSKIQBXbKQTjTloD0Vbg/edit" target="_blank" rel="noreferrer">these import notes</a>. You may need a bot account, as described <a href="https://github.com/internetarchive/openlibrary/wiki/Writing-Bots" target="_blank" rel="noreferrer">here</a>.</p><h2 id="the-import-pipeline" tabindex="-1">The Import Pipeline <a class="header-anchor" href="#the-import-pipeline" aria-label="Permalink to &quot;The Import Pipeline&quot;">​</a></h2><p>OpenLibrary.org offers several &quot;Public Import API Endpoints&quot; that can be used to submit book data for import, including one for MARC records, one for raw json book records (/api/import), and for directly importing against existing partner items (like archive.org) by ID (/api/import/ia).</p><p>Outside of these public API endpoints, Open Library also maintains a bulk batch import system for enqueueing json book data in bulk from book sources like betterworldbooks, amazon, and other trusted book providers (like librivox and standardebooks). These bulk batch imports ultimately submit records (in a systematic and rate-limited way) to the &quot;Public Import API Endpoints&quot;, e.g. /api/import.</p><p>Once a record passes through our bulk batch import process and/or gets submitted to one of our &quot;Public Import API Endpoints&quot; (e.g. /api/import, see <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/plugins/importapi/code.py#L116" target="_blank" rel="noreferrer">code</a>), the data is then parsed, augmented, and validated by the &quot;Validator&quot; in importapi/import_edition_builder.py.</p><p>Next the formatted, validated book_edition goes through the &quot;Import Processor&quot; called as catalog.add_book.load(book_edition). The function has 3 paths. It tries to find an existing matching edition and its work. The options are (1) no edition/work is found and the edition is created, (2) a matched edition is found no new data is available, (3) a matched record is modified with new available data.</p><p>In the case of (1) and (3), a final step is performed called &quot;Perform Import / Update&quot; whose description is in load_data(). Here is a flowchart of what the internal import pipeline looks like for a record that has been submitted to a public API:</p><h3 id="import-pipeline-flowchart" tabindex="-1">Import Pipeline Flowchart <a class="header-anchor" href="#import-pipeline-flowchart" aria-label="Permalink to &quot;Import Pipeline Flowchart&quot;">​</a></h3><img src="https://user-images.githubusercontent.com/978325/216481234-7c185d46-f369-47d9-bb4e-7474897388e0.png" width="75%" height="75%"><h2 id="bulk-import-options" tabindex="-1">Bulk Import Options <a class="header-anchor" href="#bulk-import-options" aria-label="Permalink to &quot;Bulk Import Options&quot;">​</a></h2><p>The following resources are for developers doing bulk book record creation via our APIs. If you are a librarian and you want to add a new book catalog entry, refer to the guide on <a href="#Import-Manually">Importing a Book Record Manually</a>.</p><ol><li><a href="#Import-by-ISBN-or-ASIN">Import by ISBN or ASIN</a></li><li><a href="#MARC-Records">Import by MARC</a></li><li><a href="#Import-by-OCAID">Import by Archive.org Identifier</a></li><li><a href="#Importing-JSON">Import by JSON</a></li><li><a href="#Batch-importing-JSONL">Batch import by JSONL</a></li><li><a href="./Processing-ONIX-Feeds.html">Import by ONIX Feeds</a> (incomplete)</li><li><a href="#Pipeline-Internals">Pipeline Internals</a></li></ol><h2 id="production-automatic-import-pipeline" tabindex="-1">Production Automatic Import Pipeline <a class="header-anchor" href="#production-automatic-import-pipeline" aria-label="Permalink to &quot;Production Automatic Import Pipeline&quot;">​</a></h2><p>For instructions and context on testing the Cron + ImportBot piplines, please see notes in <a href="https://github.com/internetarchive/openlibrary/pull/5588" target="_blank" rel="noreferrer">issue #5588</a> and <a href="https://archive.org/details/openlibrary-tour-2020/ol_imports_comprehensive.mp4" target="_blank" rel="noreferrer">this overview video</a> (bharat + mek)</p><p>Open Library&#39;s production automatic import pipeline consists of two components:</p><ol><li>A Cron service with a collection of jobs which routinely pulls data from partner source and enqueues them in a database</li><li>An ImportBot which polls this unified database of queued import requests and process the imports them into the catalog</li></ol><p><strong>Note</strong>: In the following chart, the <a href="https://github.com/internetarchive/openlibrary/wiki/Developer&#39;s-Guide-to-Data-Importing#import-pipeline-flowchart" target="_blank" rel="noreferrer">Infogami Container is detailed above in the main import flowchart</a><img src="https://user-images.githubusercontent.com/978325/130883227-bce286f6-862a-419a-8e7d-6e214bfbe1b7.png" alt="viz-js com_"></p><p>From <code>openlibrary_cron-jobs_1</code> on <code>ol-home0</code> enqueue a batch:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd /openlibrary/scripts</span></span>
<span class="line"><span>PYTHONPATH=/openlibrary python /openlibrary/scripts/manage-imports.py --config /olsystem/etc/openlibrary.yml add-new-scans 2021-07-28</span></span></code></pre></div><p>Run import on an ID from <code>openlibrary_importbot_1</code> on ol-home0</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>cd /openlibrary/scripts</span></span>
<span class="line"><span>PYTHONPATH=/openlibrary python</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import web</span></span>
<span class="line"><span>import infogami</span></span>
<span class="line"><span>from openlibrary import config</span></span>
<span class="line"><span>config.load_config(&#39;/olsystem/etc/openlibrary.yml&#39;)</span></span>
<span class="line"><span>config.setup_infobase_config(&#39;/olsystem/etc/infobase.yml&#39;)</span></span>
<span class="line"><span>importer = __import__(&quot;manage-imports&quot;)</span></span>
<span class="line"><span>import internetarchive as ia</span></span>
<span class="line"><span>item = importer.ImportItem.find_by_identifier(&#39;itinerariosporlo0000garc&#39;)</span></span>
<span class="line"><span>x = importer.ol_import_request(item, servername=&#39;https://openlibrary.org&#39;, require_marc=False)</span></span></code></pre></div><h2 id="procedure-for-bulk-imports" tabindex="-1">Procedure for Bulk Imports <a class="header-anchor" href="#procedure-for-bulk-imports" aria-label="Permalink to &quot;Procedure for Bulk Imports&quot;">​</a></h2><ol><li>Make sure your source data is archived and uploaded to <a href="https://archive.org/details/ol_data" target="_blank" rel="noreferrer">https://archive.org/details/ol_data</a></li><li>Add/register your source to the <a href="https://openlibrary.org/dev/docs/data" target="_blank" rel="noreferrer">https://openlibrary.org/dev/docs/data</a> document</li><li><a href="https://github.com/internetarchive/openlibrary/wiki/Writing-Bots" target="_blank" rel="noreferrer">Apply for a <code>bot</code> account</a> with API access</li><li>Create a new bot script for <a href="https://github.com/internetarchive/openlibrary-bots" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary-bots</a> (each bot gets its own directory and contains a README so others in the future can see exactly how your data was imported)</li><li>Follow the <a href="https://github.com/internetarchive/openlibrary/wiki/Writing-Bots#getting-started-rules" target="_blank" rel="noreferrer">Bots Getting Started instructions</a> before running your bot.</li></ol><h2 id="historical-reference" tabindex="-1">Historical Reference <a class="header-anchor" href="#historical-reference" aria-label="Permalink to &quot;Historical Reference&quot;">​</a></h2><p>Watch <a href="https://archive.org/details/openlibrary-tour-2020/openlibrary-book-imports-2018.ogv" target="_blank" rel="noreferrer">this video by @hornc</a> about the foundations of our import pipeline.</p><p>Here&#39;s a list of sourced we&#39;ve historically imported. Many of the data sets themselves are archived within the <code>https://archive.org/details/ol_data</code> collection.</p><ul><li><a href="https://openlibrary.org/dev/docs/data" target="_blank" rel="noreferrer">https://openlibrary.org/dev/docs/data</a> - a list of major sources we&#39;ve imported</li><li><a href="https://openlibrary.org/about/help" target="_blank" rel="noreferrer">https://openlibrary.org/about/help</a></li></ul><h2 id="import-code-paths" tabindex="-1">Import Code-Paths <a class="header-anchor" href="#import-code-paths" aria-label="Permalink to &quot;Import Code-Paths&quot;">​</a></h2><p>There are multiple paths by which data can be imported into Open Library.</p><ol><li>Through the website UI and the Open Library Client which both use the endpoint: <a href="https://openlibrary.org/books/add" target="_blank" rel="noreferrer">https://openlibrary.org/books/add</a><ul><li>code: <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/plugins/upstream/addbook.py" target="_blank" rel="noreferrer">openlibrary/plugins/upstream/addbook.py</a></li><li>tests: <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/plugins/upstream/tests/test_addbook.py" target="_blank" rel="noreferrer">openlibrary/plugins/upstream/tests/test_addbook.py</a> although the current tests only cover the <code>TestSaveBookHelper</code> class, which is only used by the edit book pages, not addbook.</li></ul></li><li>Through the <a href="https://github.com/internetarchive/openlibrary/wiki/Endpoints#importing" target="_blank" rel="noreferrer">data import API</a>: <a href="https://openlibrary.org/api/import" target="_blank" rel="noreferrer">https://openlibrary.org/api/import</a><ul><li>code: <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/plugins/importapi/code.py" target="_blank" rel="noreferrer">openlibrary/plugins/importapi/code.py</a></li></ul></li><li>By reference to archive.org items via the <a href="https://github.com/internetarchive/openlibrary/wiki/Endpoints#importing" target="_blank" rel="noreferrer">IA import endpoint</a>: <a href="https://openlibrary.org/api/import/ia" target="_blank" rel="noreferrer">https://openlibrary.org/api/import/ia</a><ul><li>code: <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/plugins/importapi/code.py" target="_blank" rel="noreferrer">openlibrary/plugins/importapi/code.py</a> which calls <code>openlibrary.catalog.add_book.load()</code> in <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/catalog/add_book/__init__.py" target="_blank" rel="noreferrer">openlibrary/catalog/add_book/__init__.py</a> Checking for existing works and editions is performed here in <code>openlibrary.catalog.add_book.exit_early()</code></li><li>Add book tests: <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/catalog/add_book/test_add_book.py" target="_blank" rel="noreferrer">openlibrary/catalog/add_book/test_add_book.py</a></li></ul></li><li>Through our privileged ImportBot <a href="https://github.com/internetarchive/openlibrary/blob/master/scripts/manage-imports.py" target="_blank" rel="noreferrer">scripts/manage_imports.py</a> which POSTs to the IA import API via <code>Openlibrary.import_ocaid()</code> from <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/api.py" target="_blank" rel="noreferrer">openlibrary/api.py</a></li><li>Through bulk import API <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/api.py" target="_blank" rel="noreferrer">openlibrary/api.py</a> -- this should be considered deprecated</li></ol><h1 id="api-authentication-for-imports" tabindex="-1">API Authentication for Imports <a class="header-anchor" href="#api-authentication-for-imports" aria-label="Permalink to &quot;API Authentication for Imports&quot;">​</a></h1><p>If you&#39;re trying to write a script which uses the import API endpoints on Open Library to import book data, your script will need to first perform authentication.</p><p>The manner of your app&#39;s authentication depends:</p><ol><li>on what mechanism you&#39;re using (e.g. <code>curl</code>, <code>JavaScript</code>, <code>python</code>, etc.); and</li><li>whether you&#39;re importing into the production or the local development environment.</li></ol><p>The API examples below assume you have followed the directions in this section to do whatever steps are necessary for authentication.</p><h2 id="javascript" tabindex="-1">JavaScript <a class="header-anchor" href="#javascript" aria-label="Permalink to &quot;JavaScript&quot;">​</a></h2><p>If you&#39;re planning on using your browser&#39;s developer console or a bookmarklet to write import logic in javascript, authentication can be achieved by manually logging in to the website (e.g. openlibrary.org/account/login on production). This also works with localhost, testing, etc). If you open the developer tools console (by pressing <code>F12</code> on the keyboard) then, after logging in to the Open Library website, your JavaScript environment should be successfully setup and will use the session from the cookie in your browser.</p><p>Once you&#39;re browser is authenticated, proceed to the <a href="./Developer&#39;s-Guide-to-Data-Importing.html#using-javascript">JavaScript example: importing books from JSON</a></p><h2 id="python-and-requests" tabindex="-1">Python and <code>requests</code> <a class="header-anchor" href="#python-and-requests" aria-label="Permalink to &quot;Python and `requests`&quot;">​</a></h2><p>The only difference between production and development is the URL of the host: <a href="https://openlibrary.org" target="_blank" rel="noreferrer">https://openlibrary.org</a> for production, and <a href="http://localhost:8080" target="_blank" rel="noreferrer">http://localhost:8080</a> for development.</p><p>Using <code>requests.session</code>, it&#39;s possible to authenticate once, save the cookie, and use the same session object for multiple requests.</p><p>Note: this example uses the default credentials for the local development environment. If authenticating against production, you should <em>NOT</em> put your credentials in code you are going to commit somewhere. Instead, consider reading your credentials from the environment, a <code>.env</code> file, etc. There are many ways to do this, including <a href="https://docs.docker.com/compose/environment-variables/set-environment-variables/" target="_blank" rel="noreferrer">using docker compose to set environment variables</a> and <a href="https://pypi.org/project/python-dotenv/" target="_blank" rel="noreferrer">python-dotenv</a>.</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Get a logged in session</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requests</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> urllib </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parse</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">login_url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://localhost:8080/account/login&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">login_headers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;application/x-www-form-urlencoded&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">login_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> parse.urlencode({</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;username&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;openlibrary@example.com&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Do not store your real credentials in code you may commit.</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;password&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;admin123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">session </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> requests.Session()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">session.post(login_url, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">login_data, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">headers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">login_headers)</span></span></code></pre></div><p>At this point, you should be able to see your cookie in <code>session.cookies</code>:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> session.cookies.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;session&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/people/openlibrary%2C2024-03-21T05%3A03%3A00%2C10172%5a657abb15a5c469936ec86f420f7b39&#39;</span></span></code></pre></div><p>If you see a cookie corresponding your user, you can now use <code>session.post()</code> to <code>POST</code> to the appropriate API.</p><h2 id="openlibrary-client" tabindex="-1">openlibrary-client <a class="header-anchor" href="#openlibrary-client" aria-label="Permalink to &quot;openlibrary-client&quot;">​</a></h2><p>See <a href="https://github.com/internetarchive/openlibrary-client?tab=readme-ov-file#configuration" target="_blank" rel="noreferrer">openlibrary-client configuration</a> for directions on how to install <code>openlibrary-client</code> and log in on both production and development.</p><p>Similar to plain <code>requests</code>, <code>olclient</code> will store your cookie in the <code>session</code> object to allow multiple authenticated requests using the same <code>session</code> object.</p><p>Follow the configuration directions on the openlibrary-client GitHub repository. Once you see your cookie in <code>ol.session.cookies</code>, you can use <code>ol.session.post()</code> to <code>POST</code> to the appropriate API.</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&gt;&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ol.session.cookies.get(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;session&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/people/openlibrary%2C2024-03-21T05%3A03%3A00%2C10172%5a657abb15a5c469936ec86f420f7b39&#39;</span></span></code></pre></div><h2 id="curl" tabindex="-1"><code>curl</code> <a class="header-anchor" href="#curl" aria-label="Permalink to &quot;`curl`&quot;">​</a></h2><p>Although <code>curl</code> lacks the concept of a session, it can store a cookie for later use.</p><p>This example is for the local development and uses the default credentials. You do not want to store your credentials in your shell history. <a href="https://ohmyz.sh/" target="_blank" rel="noreferrer">oh-my-zsh</a> users may wish to use the <a href="https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/dotenv" target="_blank" rel="noreferrer">dotenv</a> plugin.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cookies.txt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://localhost:8080/account/login&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;username=openlibrary@example.com&amp;password=admin123&quot;</span></span></code></pre></div><p><code>cookies.txt</code> should now have your session cookie within it:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cookies.txt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Netscape HTTP Cookie File</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># https://curl.se/docs/http-cookies.html</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># This file was generated by libcurl! Edit at your own risk.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">localhost</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       FALSE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   /</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       FALSE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       session</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /people/openlibrary%2C2024-03-21T05%3A03%3A00%2C10172%5a657abb15a5c469936ec86f420f7b39</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">localhost</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       FALSE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   /</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       FALSE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       pd</span></span></code></pre></div><p>Once this is done, call <code>curl</code> with <code>-b cookies.txt</code> to use the cookie.</p><h1 id="import-apis" tabindex="-1">Import APIs <a class="header-anchor" href="#import-apis" aria-label="Permalink to &quot;Import APIs&quot;">​</a></h1><h2 id="import-by-isbn-or-asin" tabindex="-1">Import by ISBN or ASIN <a class="header-anchor" href="#import-by-isbn-or-asin" aria-label="Permalink to &quot;Import by ISBN or ASIN&quot;">​</a></h2><h3 id="individual-isbns-or-asins" tabindex="-1">Individual ISBNs or ASINs <a class="header-anchor" href="#individual-isbns-or-asins" aria-label="Permalink to &quot;Individual ISBNs or ASINs&quot;">​</a></h3><p>If you know the ISBN or <a href="https://en.wikipedia.org/wiki/Amazon_Standard_Identification_Number" target="_blank" rel="noreferrer">ASIN</a> of a book, you may be able to import it using the <code>https://openlibrary.org/isbn/:identifier:</code> API. Note: the ISBN must be convertible to ISBN 10 for this endpoint to work with an ISBN. This API walks through three steps:</p><ol><li>First, the Open Library database is searched for the identifier in question, and if a match is found, that matched edition is returned;</li><li>If no matching edition is found, the <code>import_item</code> table will be checked for <code>staged</code> entries that match, an import will be attempted based on that match, and a new edition if any will be returned;</li><li>Finally, if no matches have been found yet, BookWorm (the &quot;affiliate-server&quot;) will be queried for matches; if a match is found, the associated metadata is <code>staged</code> for import at a later date. At this step the server will simply reply that the page, <code>/isbn/&lt;some isbn&gt;</code>, does not exist. If <code>high_priority=true</code> is passed with the query to <code>/isbn</code> (e.g. (<code>/isbn/1234567890?high_priority=true</code>), then an import will be attempted and the resulting edition returned, if any.</li></ol><h3 id="submitting-isbns-in-bulk-not-currently-an-option" tabindex="-1">Submitting ISBNs in Bulk (not currently an option) <a class="header-anchor" href="#submitting-isbns-in-bulk-not-currently-an-option" aria-label="Permalink to &quot;Submitting ISBNs in Bulk (not currently an option)&quot;">​</a></h3><p>Ultimately, we&#39;d like to create an ongoing ISBN import pipeline which discovers book isbns as they are published and imports their metadata into openlibrary.org. This requires 3 steps:</p><ol><li><strong>Discovery</strong> - writing bots to find isbns in web content such as catalogs and APIs</li><li><strong>Submission</strong> - uploading these isbns to <a href="https://archive.org/details/ol_data" target="_blank" rel="noreferrer">https://archive.org/details/ol_data</a> and processing them with @hornc&#39;s <a href="https://github.com/internetarchive/openlibrary-bots/tree/master/modern-import-bot" target="_blank" rel="noreferrer"><code>modern-import-bot</code></a></li><li><strong>Importing</strong> - updating isbn import endpoints to prevent duplicating existing authors and importing undesirable content (like CDs)</li></ol><p>improve a general purpose openlibrary.org endpoint which takes <code>isbn</code> (10, 13) and imports an item onto Open Library using our Amazon Affiliate API -- this includes logic to make sure only books (i.e. non-book items on amazon, like CDs) get imported and we avoid duplicating existing authors, works, and editions.</p><h4 id="discovering-isbns" tabindex="-1">Discovering ISBNS <a class="header-anchor" href="#discovering-isbns" aria-label="Permalink to &quot;Discovering ISBNS&quot;">​</a></h4><p>We&#39;ll want to write bots to discover isbns in web content, such as catalogs and APIs. These bots will live in a dedicated repo called <code>openlibrary-bots</code> (<a href="https://github.com/internetarchive/openlibrary-bots" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary-bots</a>). Each bot will have its own directory in the project with a README.md explaining how to run the bot to harvest isbns. I imagine the community will work on several bots (Amazon bots, Goodreads bots, Google Books bots, Better World Books bots, etc) which continuously look at sources at some regular interval to discover new isbns.</p><p>If we plan on creating a new bot, it&#39;s probably best practice to first <em>open an issue</em> on the <code>openlibrary-bots</code> repo explaining:</p><ul><li>what data source we plan on using</li><li>what technology we’d like to use</li></ul><p>For instance, let’s say we want to create a bot which discovers isbns from Amazon’s new arrivals:</p><ol><li>You’d create an issue on <a href="https://github.com/internetarchive/openlibrary-bots/issues" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary-bots/issues</a> describing how it will work, what tech we will use, what the directory will be called</li><li>Once we get feedback, we’d create a directory in the project (e.g. amazon-new-arrivals-bot)</li><li>We’d add a README.md and a code a bot which discovers isbns</li><li>Create a new Archive.org item within the <a href="https://archive.org/details/ol_data" target="_blank" rel="noreferrer">https://archive.org/details/ol_data</a> collection named after your bot or data source, where your isbns will live (e.g. for our example <code>amazon-new-arrivals-bot</code> consider making a new item on Archive.org called <code>amazon-new-arrivals-isbns</code> within the <code>ol_data</code> collection). Add the url of this bot&#39;s archive.org item (where isbns will get uploaded/submitted) to the bot README.</li><li>Add a few basic unit tests to ensure the software is working correctly (e.g. it works correctly against a static amazon page)</li></ol><h4 id="submitting-isbns-in-bulk" tabindex="-1">Submitting ISBNs in Bulk <a class="header-anchor" href="#submitting-isbns-in-bulk" aria-label="Permalink to &quot;Submitting ISBNs in Bulk&quot;">​</a></h4><p>Please do not run this list of isbns directly against our <a href="https://openlibrary.org/isbn/:isbn%60" target="_blank" rel="noreferrer">https://openlibrary.org/isbn/:isbn`</a> API because it is highly rate-limited. Instead, @hornc is writing a <a href="https://github.com/internetarchive/openlibrary-bots/tree/master/modern-import-bot" target="_blank" rel="noreferrer"><code>modern-import-bot</code></a> designed to take safely lists of isbns (from a specified archive.org item) and queue the isbns up to be safely imported into Open Library.</p><p>As a result, once your bot has collected a list of isbns for a certain time period, the first step is to upload the isbns to its Archive.org item (which should have been created in step #1 and named according to the bot which generated the isbns -- e.g. <a href="https://archive.org/details/amazon-new-arrivals-isbns" target="_blank" rel="noreferrer">https://archive.org/details/amazon-new-arrivals-isbns</a> within the <a href="https://archive.org/details/ol_data" target="_blank" rel="noreferrer">https://archive.org/details/ol_data</a> collection) as <code>&lt;date&gt;_&lt;source&gt;_isbns.csv</code> -- e.g. <code>2019-06-25_amazon_isbns.csv</code></p><h4 id="updating-isbn-import" tabindex="-1">Updating ISBN Import <a class="header-anchor" href="#updating-isbn-import" aria-label="Permalink to &quot;Updating ISBN Import&quot;">​</a></h4><p>In order for this entire process to work correctly and not produce bad data, we&#39;ll need to first make change to the isbn import endpoint to prevent duplication. For instance, to make sure only books (i.e. non-book items on amazon, like CDs) get imported and we avoid duplicating existing authors, works, and editions.</p><h2 id="import-by-ocaid" tabindex="-1">Import by OCAID <a class="header-anchor" href="#import-by-ocaid" aria-label="Permalink to &quot;Import by OCAID&quot;">​</a></h2><h3 id="background" tabindex="-1">Background <a class="header-anchor" href="#background" aria-label="Permalink to &quot;Background&quot;">​</a></h3><p><code>ocaid</code> stands for <a href="https://en.wikipedia.org/wiki/Open_Content_Alliance" target="_blank" rel="noreferrer">Open Content Alliance Identifier</a>. The name was coined when Internet Archive and other groups institutions around the world worked together to create an ID system they could universally share for accessing books. Today, <code>ocaid</code> means the equivalent of Archive.org identifier. When you go to, e.g., <a href="https://archive.org/details/ol_data" target="_blank" rel="noreferrer">https://archive.org/details/ol_data</a>, <code>ol_data</code> is the <code>ocaid</code> / Archive.org identifier. This section deals with importing Archive.org book items (by their <code>ocaid</code> / Archive.org identifier) into Open Library.</p><h3 id="ongoing-automatic-imports" tabindex="-1">Ongoing Automatic Imports <a class="header-anchor" href="#ongoing-automatic-imports" aria-label="Permalink to &quot;Ongoing Automatic Imports&quot;">​</a></h3><p>Most qualifying Archive.org books are automatically imported into Open Library through a process calls <strong>ImportBot</strong>. <a href="https://github.com/internetarchive/openlibrary/blob/master/scripts/manage-imports.py" target="_blank" rel="noreferrer">ImportBot</a> is a script in the <code>scripts/</code> directory which is continuously run via a supervisorctl task on an internal machine called <code>ol-home</code>. The script makes a privileged call to <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/core/ia.py#L358" target="_blank" rel="noreferrer"><code>core/ia.py</code></a> which queries Archive.org for books which meet import criteria (i.e. have a MARC record, have the right digitization <code>repub-state</code>, etc). The call to <code>core/ia.py</code>&#39;s <code>get_candidate_ocaids</code> returns a list of <code>ocaids</code> which are batch-submitted using a queue to <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/plugins/importapi/code.py" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary/blob/master/openlibrary/plugins/importapi/code.py</a> -- See #3 on <a href="#Import-Code-Paths">Import Code-Paths</a> above.</p><h3 id="direct-import-by-ocaid" tabindex="-1">Direct Import by OCAID <a class="header-anchor" href="#direct-import-by-ocaid" aria-label="Permalink to &quot;Direct Import by OCAID&quot;">​</a></h3><p>If you are sufficiently privileged, you can import an Archive.org id into Open Library using the <a href="https://openlibrary.org/api/import/ia" target="_blank" rel="noreferrer">https://openlibrary.org/api/import/ia</a> endpoint (which will require <a href="./Developer&#39;s-Guide-to-Data-Importing.html#api-authentication-for-imports">authentication</a>). This endpoint works both on production and in the local development environment, with the development endpoint being located at <a href="http://localhost:8080/api/import/ia" target="_blank" rel="noreferrer">http://localhost:8080/api/import/ia</a>.</p><p>The code for this endpoint is found within the <code>ia_importapi</code> class within <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/plugins/importapi/code.py" target="_blank" rel="noreferrer"><code>openlibrary/plugins/importapi/code.py</code></a>.</p><p>By default, the only required argument is <code>identifier</code>, which specifies the <code>ocaid</code>. The optional arguments include:</p><ul><li><code>require_marc</code>: requires a <a href="#MARC-Records">MARC record</a>. Defaults to true.</li><li><code>force_import</code>: force the record to import. Defaults to false.</li></ul><h4 id="javascript-import-using-fetch" tabindex="-1">JavaScript import using <code>fetch</code> <a class="header-anchor" href="#javascript-import-using-fetch" aria-label="Permalink to &quot;JavaScript import using `fetch`&quot;">​</a></h4><p>Once you have <a href="./Developer&#39;s-Guide-to-Data-Importing.html#api-authentication-for-imports">authenticated</a> and logged into the relevant account on production/development via the web browser in which you&#39;re running the JavaScript, you can import an ocaid using the following recipe:</p><p>Note: for a production import, simply change the URL to <code>https://openlibrary.org/api/import/ia</code>.</p><p>First open your browser development tools (F12 key). Then to import <a href="https://archive.org/details/whitenightsother00dostiala" target="_blank" rel="noreferrer">whitenightsother00dostiala</a> for example:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http://localhost:8080/api/import/ia?identifier=whitenightsother00dostiala&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;POST&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response)))</span></span></code></pre></div><h4 id="python-import-using-requests" tabindex="-1">Python import using <code>requests</code>: <a class="header-anchor" href="#python-import-using-requests" aria-label="Permalink to &quot;Python import using `requests`:&quot;">​</a></h4><p>Note: this requires you to have an existing <code>requests.session</code> to use. See <a href="#Python-and-requests">API Authentication</a> details.</p><p>Importing <a href="https://archive.org/details/whitenightsother00dostiala" target="_blank" rel="noreferrer">whitenightsother00dostiala</a> into the local development environment as an example:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import_url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://localhost:8080/api/import/ia&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;identifier&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;whitenightsother00dostiala&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;force_import&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;false&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import_headers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;application/json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">response </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> session.post(import_url, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import_data, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">headers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import_headers)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">response.text  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Verify output</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;{&quot;success&quot;: true, &quot;edition&quot;: {&quot;key&quot;: &quot;/books/OL20M&quot;, &quot;status&quot;: &quot;matched&quot;}, &quot;work&quot;: {&quot;key&quot;: &quot;/works/OL10W&quot;, &quot;status&quot;: &quot;matched&quot;}}&#39;</span></span></code></pre></div><h4 id="using-openlibrary-client" tabindex="-1">Using <a href="https://github.com/internetarchive/openlibrary-client" target="_blank" rel="noreferrer">openlibrary-client</a>: <a class="header-anchor" href="#using-openlibrary-client" aria-label="Permalink to &quot;Using [openlibrary-client](https://github.com/internetarchive/openlibrary-client):&quot;">​</a></h4><p>Note: this assumes you already have an authenticated session with <code>olclient</code>. See <a href="#openlibrary-client">API Authentication</a> for details.</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import_url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://localhost:8080/api/import/ia&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;identifier&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;whitenightsother00dostiala&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;force_import&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;false&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ol.session.post(import_url, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import_data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r.text  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Verify import</span></span></code></pre></div><h4 id="shell-import-using-curl" tabindex="-1">Shell import using <code>curl</code>: <a class="header-anchor" href="#shell-import-using-curl" aria-label="Permalink to &quot;Shell import using `curl`:&quot;">​</a></h4><p>Note: this requires your session cookie in <code>cookies.txt</code>. see <a href="#curl">API Authentication</a> for details.</p><p>Importing <a href="https://archive.org/details/whitenightsother00dostiala" target="_blank" rel="noreferrer">whitenightsother00dostiala</a> as an example and finding it already exists in Open Library:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://localhost:8080/api/import/ia&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \ </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">     -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cookies.txt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;identifier=whitenightsother00dostiala&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;success&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;edition&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {&quot;key&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/books/OL20M&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;status&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;matched&quot;},</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;work&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {&quot;key&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/works/OL10W&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;status&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;matched&quot;}}</span></span></code></pre></div><h3 id="bulk-import-by-ocaid" tabindex="-1">Bulk Import by OCAID <a class="header-anchor" href="#bulk-import-by-ocaid" aria-label="Permalink to &quot;Bulk Import by OCAID&quot;">​</a></h3><p>Assuming you have API write access, you can use ImportBot&#39;s <a href="https://github.com/internetarchive/openlibrary/blob/master/scripts/manage-imports.py#L67" target="_blank" rel="noreferrer"><code>import_ocaids</code></a> method directly to import a list of Archive.org items into Open Library by ocaid.</p><p><strong>NB</strong> As of 2019-07, the ocaid import process is being revised by @charles to relax some outdated ocaid import constraints which are currently <a href="https://github.com/internetarchive/openlibrary/wiki/archive.org-%E2%86%94-Open-Library-synchronisation" target="_blank" rel="noreferrer">preventing Open Library from importing tens of thousands of valid book items and their records</a>. e.g. right now MARC records and <code>repub-state</code>s are required, which we may want to relax. Also, we run into problems when Archive.org has multiple books for the same <code>isbn</code> (this causes a collision where a valid duplicate editions is rightfully caught by our duplication detector and prevented from being imported as a new edition). Ideally, perhaps, editions on Open Library would have multiple <code>ocaids</code>, but we&#39;re not there yet in our data model.</p><h2 id="importing-json" tabindex="-1">Importing JSON <a class="header-anchor" href="#importing-json" aria-label="Permalink to &quot;Importing JSON&quot;">​</a></h2><p>Sufficiently privileged patrons can POST JSON to production at <a href="https://openlibrary.org/api/import" target="_blank" rel="noreferrer">https://openlibrary.org/api/import</a> by following the <a href="https://github.com/internetarchive/openlibrary-client/blob/master/olclient/schemata/import.schema.json" target="_blank" rel="noreferrer">relevant schema</a>. All developers can also POST the same JSON to their local development server at <a href="http://localhost:8080/api/import" target="_blank" rel="noreferrer">http://localhost:8080/api/import</a>.</p><h3 id="production-versus-development-imports" tabindex="-1">Production Versus Development imports <a class="header-anchor" href="#production-versus-development-imports" aria-label="Permalink to &quot;Production Versus Development imports&quot;">​</a></h3><p>As mentioned above, one can generally switch between importing to production and development by changing the URL from <a href="https://openlibrary.org/api/import" target="_blank" rel="noreferrer">https://openlibrary.org/api/import</a> to <a href="http://localhost:8080/api/import" target="_blank" rel="noreferrer">http://localhost:8080/api/import</a>, but watch out for different usernames, passwords, sessions, etc.</p><h3 id="using-javascript" tabindex="-1">Using Javascript <a class="header-anchor" href="#using-javascript" aria-label="Permalink to &quot;Using Javascript&quot;">​</a></h3><p>If you are logged-in within the browser, you may use the following code to attempt an import:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bookdata </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;title&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Ikigai&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;authors&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Souen, Chiemi&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Kaneshiro, Flor&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}], </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;publish_date&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2021&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;source_records&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;amazon:195302114X&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;number_of_pages&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">40</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;publishers&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Brandylane Publishers, Inc.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;isbn_10&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;195302114X&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;isbn_13&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;9781953021144&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://openlibrary.org/api/import?debug=true&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    method: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;POST&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    headers: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;Accept&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;application/json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;Content-Type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;application/json&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    body: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bookdata)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()) .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(response)))</span></span></code></pre></div><h4 id="python-import-using-requests-1" tabindex="-1">Python import using <code>requests</code>: <a class="header-anchor" href="#python-import-using-requests-1" aria-label="Permalink to &quot;Python import using `requests`:&quot;">​</a></h4><p>Note: this requires you to have an existing <code>requests.session</code> to use. See <a href="#Python-and-requests">API Authentication</a> details.</p><p>This is almost identical to POSTing with <code>openlibrary-client</code>, except <code>session</code> is not a method on <code>olclient</code>.</p><p>For more about the schema, see <a href="https://github.com/internetarchive/openlibrary-client/blob/master/olclient/schemata/import.schema.json" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary-client/blob/master/olclient/schemata/import.schema.json</a></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import_url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://localhost:8080/api/import&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Beyond The Hundredth Meridian: John Wesley Powell And The Second Opening Of The West&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;authors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Wallace Stegner&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;isbn_13&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;9780803291287&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;languages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eng&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;publishers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;University of Nebraska Press&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;publish_date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1954&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;source_records&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;amazon:B0016VINB0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> session.post(import_url, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">json.dumps(data))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r.text  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Verify import</span></span></code></pre></div><h3 id="using-openlibrary-client-1" tabindex="-1">Using <a href="https://github.com/internetarchive/openlibrary-client" target="_blank" rel="noreferrer">openlibrary-client</a>: <a class="header-anchor" href="#using-openlibrary-client-1" aria-label="Permalink to &quot;Using [openlibrary-client](https://github.com/internetarchive/openlibrary-client):&quot;">​</a></h3><p>Note: this assumes you already have an authenticated session with <code>olclient</code>. See <a href="#openlibrary-client">API Authentication</a> for details.</p><p>This is almost identical to POSTing with <code>requests</code>, except here the <code>session</code> is a method of <code>olclient</code>.</p><p>For more about the schema, see <a href="https://github.com/internetarchive/openlibrary-client/blob/master/olclient/schemata/import.schema.json" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary-client/blob/master/olclient/schemata/import.schema.json</a></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> json</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import_url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;http://localhost:8080/api/import&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">import_data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Beyond The Hundredth Meridian: John Wesley Powell And The Second Opening Of The West&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;authors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Wallace Stegner&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;isbn_13&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;9780803291287&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;languages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eng&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;publishers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;University of Nebraska Press&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;publish_date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1954&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;source_records&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;amazon:B0016VINB0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ol.session.post(import_url, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">json.dumps(data))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">r.text  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Verify import</span></span></code></pre></div><h3 id="using-curl-local-development-example" tabindex="-1">Using <code>curl</code> (local development example): <a class="header-anchor" href="#using-curl-local-development-example" aria-label="Permalink to &quot;Using `curl` (local development example):&quot;">​</a></h3><p>This assumes you have a <code>cookies.txt</code> with your session cookie. See <a href="#curl">API Authentication</a> for details.</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">❯</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -X</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> POST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://localhost:8080/api/import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Content-Type: application/json&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cookies.txt</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;title&quot;: &quot;Super Great Book&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;authors&quot;: [{&quot;name&quot;: &quot;Author McAuthor&quot;, &quot;birth_date&quot;: &quot;1806&quot;, &quot;death_date&quot;: &quot;1871&quot;}],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;isbn_10&quot;: [&quot;1234567890&quot;],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;publishers&quot;: [&quot;Burgess and Hill&quot;],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;source_records&quot;: [&quot;amazon:123456790&quot;],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;subjects&quot;: [&quot;Trees&quot;, &quot;Peaches&quot;],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;description&quot;: &quot;A book with a description&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;publish_date&quot;: &quot;1829&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;authors&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [{</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;key&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/authors/OL15A&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;name&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Author McAuthor&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;status&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;created&quot;}],</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;success&quot;:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;edition&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {&quot;key&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/books/OL19M&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;status&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;created&quot;},</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;work&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {&quot;key&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/works/OL9W&quot;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;status&quot;:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;created&quot;}}</span></span></code></pre></div><h2 id="batch-importing-jsonl" tabindex="-1">Batch importing JSONL <a class="header-anchor" href="#batch-importing-jsonl" aria-label="Permalink to &quot;Batch importing JSONL&quot;">​</a></h2><p>Sufficiently privileged patrons can make use of a bulk import endpoint at <code>/import/batch/new</code>, which accepts a plain text file of JSONL, with one import per line, e.g.:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;identifiers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;open_textbook_library&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1581&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;source_records&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;open_textbook_library:1581&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Legal Fundamentals of Healthcare Law&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;languages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eng&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;subjects&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Medicine&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Law&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;publishers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;University of West Florida Pressbooks&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;publish_date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2024&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;authors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Tiffany Jackman&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;lc_classifications&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;RA440&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;KF385.A4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;identifiers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;open_textbook_library&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1580&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;source_records&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;open_textbook_library:1580&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;title&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Introduction to Literature: Fairy Tales, Folk Tales, and How They Shape Us&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;languages&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eng&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;subjects&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Humanities&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Literature, Rhetoric, and Poetry&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;publishers&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;University of West Florida Pressbooks&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;publish_date&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2023&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;authors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Judy Young&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}], </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;lc_classifications&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;PE1408&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}</span></span></code></pre></div><p>Such imports will be pre-validated so one can see in advance which records may be problematic. <code>#</code> characters are also allowed at the start of the line as a comment, even though this is not valid JSONL. Imports should be formatted according to the <a href="https://github.com/internetarchive/openlibrary-client/tree/master/olclient/schemata" target="_blank" rel="noreferrer">import schema</a>. For the notes associating the PR that added this feature, see <a href="https://github.com/internetarchive/openlibrary/pull/8122" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary/pull/8122</a>.</p><h2 id="marc-records" tabindex="-1">MARC Records <a class="header-anchor" href="#marc-records" aria-label="Permalink to &quot;MARC Records&quot;">​</a></h2><h3 id="bulk-marc-import" tabindex="-1">Bulk MARC Import <a class="header-anchor" href="#bulk-marc-import" aria-label="Permalink to &quot;Bulk MARC Import&quot;">​</a></h3><p>We are in the process of expanding the <code>api/import/ia</code> endpoint functionality.</p><p><strong>From a conversation with @mek + @hornc</strong> We&#39;re going to write a <code>ImportBulkMarcIABot</code> in <code>openlibrary-bots</code></p><ol><li>For a given bulk archive.org item within ol_data collection, iterate over all its .mrc files.</li><li>For each .mrc file, retrieve the length of the first binary marc using the length (i.e. 1st) component of the LEADER field so we know when the first MARC records stops e.g. <a href="http://www.archive.org/download/trent_test_marc/180221_ItemID_Test_001.mrc?range=0:5" target="_blank" rel="noreferrer">http://www.archive.org/download/trent_test_marc/180221_ItemID_Test_001.mrc?range=0:5</a></li><li>We&#39;ll use ^ with the correct item + file to get the first MARC and then use the LEADER to process the rest</li><li>We&#39;ll take the MARC, call the MarcBinary code in <code>openlibrary/catalog/marc/marc_binary.py</code></li><li>We&#39;ll have to exposed a new endpoint within <code>openlibrary/plugins/importapi/code.py</code> for MARC import (w/o IA book item)</li><li>Add <code>&quot;local_id&quot;: [&quot;urn:trent:12345&quot;]</code>key to openlibrary book metadata in addition to correctly formatted <code>source_record</code> so archive.org can search for the records using the OL books API from</li></ol><h3 id="importing-partner-marcs-with-local-id-barcodes" tabindex="-1">Importing Partner MARCs with Local ID Barcodes <a class="header-anchor" href="#importing-partner-marcs-with-local-id-barcodes" aria-label="Permalink to &quot;Importing Partner MARCs with Local ID Barcodes&quot;">​</a></h3><p><strong>Cold Start:</strong> If we’re creating an instance of Open Library service from scratch, before the following instructions, we’ll first need to create a new infogami <code>thing</code> called <code>local_ids</code> which is of type <code>page</code>. Next:</p><ul><li>A new partner named <code>foo</code> appears and their local_id barcode is in field <code>999$a</code> within their MARCs</li><li>As an admin, navigate to <a href="https://openlibrary.org/local_ids/foo.yml?m=edit" target="_blank" rel="noreferrer">https://openlibrary.org/local_ids/foo.yml?m=edit</a> and set the following metadata. The following example presumes that <code>foo-archive-item</code> is the name of an archive.org item (preferably within the <code>archive.org/details/ol_data</code> collection) which contains one or more <code>.mrc</code> file(s). You can refer to <a href="https://openlibrary.org/local_ids/trent.yml" target="_blank" rel="noreferrer">https://openlibrary.org/local_ids/trent.yml</a> for a live example.</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>id_location: 999$a</span></span>
<span class="line"><span>key: /local_ids/foo</span></span>
<span class="line"><span>name: Foo</span></span>
<span class="line"><span>source_ocaid: foo-archive-item</span></span>
<span class="line"><span>type:</span></span>
<span class="line"><span>    key: /type/local_id</span></span>
<span class="line"><span>urn_prefix: foo</span></span></code></pre></div><ul><li>save, and you should be ready to start importing MARCs using the following instructions: <a href="https://github.com/internetarchive/openlibrary/wiki/Endpoints#import-by-archiveorg-reference" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary/wiki/Endpoints#import-by-archiveorg-reference</a></li></ul><h2 id="goals" tabindex="-1">Goals <a class="header-anchor" href="#goals" aria-label="Permalink to &quot;Goals&quot;">​</a></h2><p>Here is a list of generally expressed goals for importing:</p><ul><li>More imported books</li><li>Quality imports</li><li>Newer, more recent books</li><li>More useful items, what are our users searching for and not finding?</li><li>Ongoing, automated pipeline so OL stays (or becomes..) current</li><li>Flexible, extensible import process that can import a wide range of available and new data sources</li><li>Synchronisation with current and potential data partners (BWB, Wikidata, etc.)</li></ul><p>These are high level areas. To make concrete progress we need to identify some specific goals, collect some data, identify tradeoffs, and prioritise between these categories, then break down into specific tasks.</p><h2 id="metrics" tabindex="-1">Metrics <a class="header-anchor" href="#metrics" aria-label="Permalink to &quot;Metrics&quot;">​</a></h2><p>In order to measure progress and gaps, we need some metrics...</p><h3 id="basic-starting-point-where-are-we" tabindex="-1">Basic starting point -- where are we? <a class="header-anchor" href="#basic-starting-point-where-are-we" aria-label="Permalink to &quot;Basic starting point -- where are we?&quot;">​</a></h3><ul><li>How many books are we currently importing now and over the recent past? <ul><li>graph imports per month using <code>add_book</code> query?</li><li>Extra details: <ul><li>Split by source, user added vs. bot added, MARC import, ISBN import</li><li>Distribution by published date for current imports and sources</li></ul></li></ul></li><li>What is the current distribution of published dates in Open Library? <ul><li>TASK: create a script to extract this data (for graphing) from a monthly ol_edition dump.</li></ul></li><li>What is being searched for and not found by users?</li><li>Overlap stats with partner data (needs requirement details)</li></ul><h2 id="published-dates-in-open-library-books-with-isbn-14m-out-of-25m-july-2019" tabindex="-1">Published dates in Open Library -- books with ISBN (14M out of 25M) @ July 2019 <a class="header-anchor" href="#published-dates-in-open-library-books-with-isbn-14m-out-of-25m-july-2019" aria-label="Permalink to &quot;Published dates in Open Library -- books with ISBN (14M out of 25M) @ July 2019&quot;">​</a></h2><p><img src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRXTYkmE6wRV82Z-zJaCsPAJ91SBIEWOyCaPCK1U89c379_Ing4RReHsnTX_0JiShyDnySLgjd5ejKN/pubchart?oid=723822477&amp;format=image" alt="Editions by publication year graph for July 2019"></p><h2 id="sources-of-import-metadata" tabindex="-1">Sources of import metadata <a class="header-anchor" href="#sources-of-import-metadata" aria-label="Permalink to &quot;Sources of import metadata&quot;">​</a></h2><ul><li>Libraries, MARC data <ul><li>PROs: <ul><li>Better metadata</li><li>More detail</li><li>Author distinction with dates</li></ul></li><li>CONs: <ul><li>Tend to be older books... primarily because we are not actively seeking new dumps? SFPL was the most recently extracted catalog imported (<a href="https://archive.org/details/marc_openlibraries_sanfranciscopubliclibrary" target="_blank" rel="noreferrer">https://archive.org/details/marc_openlibraries_sanfranciscopubliclibrary</a>).</li></ul></li></ul></li><li>Booksellers, ISBN lookup <ul><li>PROs <ul><li>Newer books, incentive to keep up, market driven, popular modern books emphasised.</li></ul></li><li>CONs <ul><li>Lighter metadata</li><li>Frequently include notebooks and other products with ISBNs for sale that we might want to exclude</li><li>Frequently include non-book products with other identifiers (or incorrectly converted data in ISBN field) in their catalogs</li><li>Bookseller catalogs are not concerned with overall catalog coherence or quality -- maximising sales goal not impacted by junk metadata entries. Offer it for sale even if it does not make sense. We OTOH want <em>ALL</em> items to be coherent.</li></ul></li></ul></li></ul><p>IDEA: Define a bookseller metadata quality threshold. Heuristics to decide whether we want to import a record?</p><h2 id="quality-issues" tabindex="-1">Quality issues <a class="header-anchor" href="#quality-issues" aria-label="Permalink to &quot;Quality issues&quot;">​</a></h2><ul><li>Duplicate records (Author, Work, Edition)</li><li>Conflated records</li><li>Junk records <ul><li>non-book items</li><li>other non-record items the are generated due to errors</li></ul></li><li>Corrupt data <ul><li>Unicode conversion</li><li>Dates, names, ISBN10 -&gt; 13 conversion etc.</li><li>Misaligned metadata (good values in incorrect fields, multiple values in one field etc.)</li><li>Mismatched identifiers contribute to conflation issues</li></ul></li></ul><h2 id="current-state" tabindex="-1">Current state <a class="header-anchor" href="#current-state" aria-label="Permalink to &quot;Current state&quot;">​</a></h2><p><em>.. notes written, pending ..</em></p><h2 id="other-issues-related-to-importing" tabindex="-1">Other issues related to importing <a class="header-anchor" href="#other-issues-related-to-importing" aria-label="Permalink to &quot;Other issues related to importing&quot;">​</a></h2><ul><li>Add book UI <ul><li>Consolidate add_book endpoints</li><li>UI add book should use and leverage the import API checks and available fields for consistency and code maintainability</li><li><a href="https://github.com/internetarchive/openlibrary/issues/1163" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary/issues/1163</a></li></ul></li></ul><h2 id="related-resources" tabindex="-1">Related resources <a class="header-anchor" href="#related-resources" aria-label="Permalink to &quot;Related resources&quot;">​</a></h2><ul><li>Current <a href="https://github.com/internetarchive/openlibrary/projects/16" target="_blank" rel="noreferrer">project board for import pipeline efforts</a></li><li><a href="https://github.com/internetarchive/openlibrary/wiki/Developer&#39;s-Guide-to-Data-Importing" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary/wiki/Developer&#39;s-Guide-to-Data-Importing</a></li><li><a href="https://github.com/internetarchive/openlibrary/wiki/Endpoints#importing" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary/wiki/Endpoints#importing</a></li><li><a href="https://github.com/internetarchive/openlibrary/wiki/Data-Source-Overview" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary/wiki/Data-Source-Overview</a></li><li><a href="https://github.com/internetarchive/openlibrary-bots/tree/master/modern-import-bot" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary-bots/tree/master/modern-import-bot</a></li></ul><h3 id="historical-we-likely-want-to-resume-the-intent-of-these-efforts" tabindex="-1">Historical -- we likely want to resume the intent of these efforts: <a class="header-anchor" href="#historical-we-likely-want-to-resume-the-intent-of-these-efforts" aria-label="Permalink to &quot;Historical -- we likely want to resume the intent of these efforts:&quot;">​</a></h3><ul><li><a href="https://openlibrary.org/dev/docs/data" target="_blank" rel="noreferrer">https://openlibrary.org/dev/docs/data</a></li><li><a href="https://openlibrary.org/about/help" target="_blank" rel="noreferrer">https://openlibrary.org/about/help</a></li><li><a href="https://openlibrary.org/about/requirements" target="_blank" rel="noreferrer">https://openlibrary.org/about/requirements</a></li></ul><h1 id="unified-import-system" tabindex="-1">Unified Import System <a class="header-anchor" href="#unified-import-system" aria-label="Permalink to &quot;Unified Import System&quot;">​</a></h1><p>How we&#39;d like an unified import system to behave:</p><ol><li>We have a single cron container on ol-home0 which queries for, or fetches, data from sources (archive.org, partners / nytimes / openstax / bwb) and submit either archive.org IDs or json book records to a queue managed by scripts/manage-imports.py</li><li>A service container on ol-home <code>ImportBot</code> continuously listens for new batches and imports them into Open Library.</li></ol><h2 id="challenges" tabindex="-1">Challenges <a class="header-anchor" href="#challenges" aria-label="Permalink to &quot;Challenges&quot;">​</a></h2><ol><li>manage-imports.py currently only works on archive.org IDs (imports IA items) rather than on json data.</li><li>When we fetch a day of changes from Archive.org during our daily cron-check, it&#39;s easy for us to submit a batch to the <code>ImportBot</code> service. But when we fetch large volumes of monthly partner data which has millions of records, it&#39;s unclear how we should batch this and submit it to the <code>ImportBot</code> and how to know which [batches] are failing or succeeding. Do we submit 5000 batches of 1000 (e.g. 5M)?</li><li><code>import_item</code> table only supports archive_id right now, what if it supported <code>data</code> as an alternative column and what would happen if this table had hundreds of millions of records.</li></ol><h2 id="ia-import-bot" tabindex="-1">IA Import Bot <a class="header-anchor" href="#ia-import-bot" aria-label="Permalink to &quot;IA Import Bot&quot;">​</a></h2><p>Video walkthrough here: (how OL Imports work) <a href="https://archive.org/details/openlibrary-tour-2020/ol_imports_comprehensive.mp4" target="_blank" rel="noreferrer">https://archive.org/details/openlibrary-tour-2020/ol_imports_comprehensive.mp4</a> See code: <a href="https://github.com/internetarchive/openlibrary/blob/master/openlibrary/core/ia.py#L313-L399" target="_blank" rel="noreferrer">https://github.com/internetarchive/openlibrary/blob/master/openlibrary/core/ia.py#L313-L399</a></p><ul><li>There is a thing called the ImportBot daemon. It runs 24/7 checking the ImportQueue for new batches of ~1,000 records. These batches can include ia or any number of partner records.</li><li>There&#39;s also a cron job (i.e. a timed linux job) which runs IA Imports once a day. This cron job calls the code above (i.e. get_candidate_ocaids) to fetch archive.org IDs (i.e. ocaids) and submits them to the ImportQueueto be processed by [1]</li></ul><h2 id="overview-of-known-data-sources" tabindex="-1">Overview of Known Data Sources <a class="header-anchor" href="#overview-of-known-data-sources" aria-label="Permalink to &quot;Overview of Known Data Sources&quot;">​</a></h2><p><em>Penguin Books</em><a href="https://developer.penguinrandomhouse.com/docs/read/enhanced_prh_api" target="_blank" rel="noreferrer">https://developer.penguinrandomhouse.com/docs/read/enhanced_prh_api</a></p><p><em>Google Books</em><a href="https://developers.google.com/books/docs/v1/getting_started" target="_blank" rel="noreferrer">https://developers.google.com/books/docs/v1/getting_started</a></p><p><em>OCLC Worldcat Book Lookup</em><a href="https://platform.worldcat.org/api-explorer/apis/Classify/ClassificationResource/Search" target="_blank" rel="noreferrer">https://platform.worldcat.org/api-explorer/apis/Classify/ClassificationResource/Search</a></p><p><em>Simon and Schuster</em><a href="http://www.simonandschuster.biz/c/biz-seasonal-catalogs" target="_blank" rel="noreferrer">http://www.simonandschuster.biz/c/biz-seasonal-catalogs</a><a href="https://catalog.simonandschuster.com/?cid=16322" target="_blank" rel="noreferrer">https://catalog.simonandschuster.com/?cid=16322</a></p><p><em>Library of Congress</em> 25M MARCs <a href="https://www.loc.gov/cds/products/MDSConnect-books_all.html" target="_blank" rel="noreferrer">https://www.loc.gov/cds/products/MDSConnect-books_all.html</a></p><p><em>Hathi Trust</em> 16.8M volumes, 8M book titles, 38% public domain <a href="https://www.hathitrust.org/bib_api" target="_blank" rel="noreferrer">https://www.hathitrust.org/bib_api</a></p><p><em>Wikidata</em> lookup any identifier (author, subject, language,...) and find other identifiers for the same entity <a href="https://www.wikidata.org/" target="_blank" rel="noreferrer">https://www.wikidata.org/</a></p></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link prev" href="/openlibrary-docs/6_Advanced/Deployment-Scratchpad.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Previous page</span><span class="title" data-v-1bcd8184>Deployment-Scratchpad</span><!--]--></a></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/openlibrary-docs/6_Advanced/Disaster-History-Log.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>Disaster-History-Log</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"1_everyone_community-call.md\":\"D81Nk5I_\",\"1_everyone_google-summer-of-code.md\":\"D_s3pbzh\",\"1_everyone_hacktoberfest.md\":\"Cln9x4d0\",\"1_everyone_home.md\":\"70tW4Plp\",\"1_everyone_index.md\":\"CSkKJta7\",\"1_everyone_internationalization.md\":\"C5n0068W\",\"1_everyone_open-library-community-call-minutes.md\":\"Dg7FQiyU\",\"1_everyone_slack-channels.md\":\"h9YYY48T\",\"2_developers_2_frontend_frontend-guide.md\":\"B85A2hpm\",\"2_developers_2_frontend_using-vue.md\":\"BP91373s\",\"2_developers_3_backend_endpoints.md\":\"CVf7TIZK\",\"2_developers_3_backend_general.md\":\"DTkBxo73\",\"2_developers_3_backend_understanding-the-data-model.md\":\"Ce-e8PfW\",\"2_developers_3_backend_writing-bots.md\":\"BDyROxCt\",\"2_developers_contributing.md\":\"Y03TLhsJ\",\"2_developers_git-cheat-sheet.md\":\"cexXtKHd\",\"2_developers_index.md\":\"Cz7jp28V\",\"2_developers_misc_docker.md\":\"CBL1pL5i\",\"2_developers_misc_loading-production-book-data.md\":\"4iz-Oji5\",\"2_developers_misc_outdated-getting-started.md\":\"gr54fr3i\",\"2_developers_misc_searching-data-dumps-with-grep-and-jq.md\":\"4yzLUW3G\",\"2_developers_misc_testing.md\":\"ZBo9ZE3c\",\"3_designers_design-pattern-library.md\":\"DzUXOKXt\",\"4_librarians_creating-community-lists.md\":\"Du55-b0b\",\"4_librarians_guide-to-identifiers.md\":\"CEjbXawF\",\"4_librarians_library-metadata-standards.md\":\"DtP9GBXC\",\"4_librarians_mangled-marc.md\":\"B_l9qSPJ\",\"5_projects_canonical-books-page.md\":\"D_-Lm6_A\",\"5_projects_developing-the-reading-log.md\":\"BgchTE6D\",\"5_projects_documentation.md\":\"CFBj7BM3\",\"5_projects_lead_-community-coordinator.md\":\"CTW5nrbZ\",\"5_projects_lead_-community-librarian.md\":\"dh9dfDRK\",\"5_projects_library-community-congress-2019.md\":\"CufnlLxu\",\"5_projects_orphaned-editions-planning.md\":\"Cfm08vq5\",\"5_projects_wikidata-integration.md\":\"DH3JXJzv\",\"6_advanced_anti-spam-tools.md\":\"D_s4iGNL\",\"6_advanced_archive.org-↔-open-library-synchronisation.md\":\"DC87lA0c\",\"6_advanced_component-library.md\":\"fR6Kg19S\",\"6_advanced_creating-and-logging-in-as-a-new-user-on-your-local-client.md\":\"B5Pm44If\",\"6_advanced_debugging-and-performance-profiling.md\":\"C0SX8Kqc\",\"6_advanced_deployment-guide.md\":\"DQGoFKCh\",\"6_advanced_deployment-scratchpad.md\":\"DXoq1M6k\",\"6_advanced_developer's-guide-to-data-importing.md\":\"D3BMOMcb\",\"6_advanced_disaster-history-log.md\":\"FYevO4me\",\"6_advanced_disaster-recovery-_-immediate-response.md\":\"S-sAKNLe\",\"6_advanced_feature-flagging.md\":\"DDigcikr\",\"6_advanced_generating-data-dumps.md\":\"CODiqCch\",\"6_advanced_howto_-open-library-project-management.md\":\"DJcYZTP9\",\"6_advanced_index.md\":\"0KanYzdR\",\"6_advanced_monitoring.md\":\"WTeB0bQr\",\"6_advanced_podman-(docker-alternative).md\":\"DgBGlgcB\",\"6_advanced_processing-onix-feeds.md\":\"7CvTYYhP\",\"6_advanced_production-service-architecture.md\":\"DLVUXDVm\",\"6_advanced_production-service-architecture_old.md\":\"XMH9Orss\",\"6_advanced_provisioning-guide.md\":\"CQLBhswa\",\"6_advanced_sitemap-generation.md\":\"DYWbSn9F\",\"6_advanced_solr.md\":\"BBRIcpPj\",\"6_advanced_using-cache.md\":\"C4sQuPqT\",\"6_advanced_using-the-api-with-csharp.md\":\"DN0VI78R\",\"coding-recipes.md\":\"vXwh4xU_\",\"developer's-starter-guide.md\":\"CVPppFf0\",\"fellowships.md\":\"pggalBzS\",\"history.md\":\"0li5B7fk\",\"index.md\":\"LWpd28u4\",\"kubernetes.md\":\"Dtn1BxJt\",\"the-lifecycle-of-a-network-request.md\":\"Dc66gyLL\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Open Library Docs\",\"description\":\"A new docs experience for Open Library\",\"base\":\"/openlibrary-docs/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"}],\"search\":{\"provider\":\"local\"},\"sidebar\":[{\"text\":\"1_Everyone\",\"link\":\"/1_Everyone/index.md\",\"items\":[{\"text\":\"Community-Call\",\"link\":\"/1_Everyone/Community-Call\"},{\"text\":\"Google-Summer-of-Code\",\"link\":\"/1_Everyone/Google-Summer-of-Code\"},{\"text\":\"Hacktoberfest\",\"link\":\"/1_Everyone/Hacktoberfest\"},{\"text\":\"Home\",\"link\":\"/1_Everyone/Home\"},{\"text\":\"Internationalization\",\"link\":\"/1_Everyone/Internationalization\"},{\"text\":\"Open-Library-Community-Call-Minutes\",\"link\":\"/1_Everyone/Open-Library-Community-Call-Minutes\"},{\"text\":\"Slack-Channels\",\"link\":\"/1_Everyone/Slack-Channels\"}],\"collapsed\":true},{\"text\":\"2_Developers\",\"link\":\"/2_Developers/index.md\",\"items\":[{\"text\":\"2_Frontend\",\"items\":[{\"text\":\"Frontend-Guide\",\"link\":\"/2_Developers/2_Frontend/Frontend-Guide\"},{\"text\":\"Using-Vue\",\"link\":\"/2_Developers/2_Frontend/Using-Vue\"}],\"collapsed\":true},{\"text\":\"3_Backend\",\"items\":[{\"text\":\"Endpoints\",\"link\":\"/2_Developers/3_Backend/Endpoints\"},{\"text\":\"General\",\"link\":\"/2_Developers/3_Backend/General\"},{\"text\":\"Understanding-The-Data-Model\",\"link\":\"/2_Developers/3_Backend/Understanding-The-Data-Model\"},{\"text\":\"Writing-Bots\",\"link\":\"/2_Developers/3_Backend/Writing-Bots\"}],\"collapsed\":true},{\"text\":\"CONTRIBUTING\",\"link\":\"/2_Developers/CONTRIBUTING\"},{\"text\":\"Git-Cheat-Sheet\",\"link\":\"/2_Developers/Git-Cheat-Sheet\"},{\"text\":\"misc\",\"items\":[{\"text\":\"Docker\",\"link\":\"/2_Developers/misc/Docker\"},{\"text\":\"Loading-Production-Book-Data\",\"link\":\"/2_Developers/misc/Loading-Production-Book-Data\"},{\"text\":\"OUTDATED-Getting-Started\",\"link\":\"/2_Developers/misc/OUTDATED-Getting-Started\"},{\"text\":\"Searching-data-dumps-with-grep-and-jq\",\"link\":\"/2_Developers/misc/Searching-data-dumps-with-grep-and-jq\"},{\"text\":\"Testing\",\"link\":\"/2_Developers/misc/Testing\"}],\"collapsed\":true}],\"collapsed\":true},{\"text\":\"3_Designers\",\"items\":[{\"text\":\"Design-Pattern-Library\",\"link\":\"/3_Designers/Design-Pattern-Library\"}],\"collapsed\":true},{\"text\":\"4_Librarians\",\"items\":[{\"text\":\"Creating-Community-Lists\",\"link\":\"/4_Librarians/Creating-Community-Lists\"},{\"text\":\"Guide-to-Identifiers\",\"link\":\"/4_Librarians/Guide-to-Identifiers\"},{\"text\":\"Library-Metadata-Standards\",\"link\":\"/4_Librarians/Library-Metadata-Standards\"},{\"text\":\"Mangled-MARC\",\"link\":\"/4_Librarians/Mangled-MARC\"}],\"collapsed\":true},{\"text\":\"5_Projects\",\"items\":[{\"text\":\"Canonical-Books-Page\",\"link\":\"/5_Projects/Canonical-Books-Page\"},{\"text\":\"Developing-the-Reading-Log\",\"link\":\"/5_Projects/Developing-the-Reading-Log\"},{\"text\":\"Documentation\",\"link\":\"/5_Projects/Documentation\"},{\"text\":\"Lead:-Community-Coordinator\",\"link\":\"/5_Projects/Lead:-Community-Coordinator\"},{\"text\":\"Lead:-Community-Librarian\",\"link\":\"/5_Projects/Lead:-Community-Librarian\"},{\"text\":\"Library-Community-Congress-2019\",\"link\":\"/5_Projects/Library-Community-Congress-2019\"},{\"text\":\"Orphaned-Editions-Planning\",\"link\":\"/5_Projects/Orphaned-Editions-Planning\"},{\"text\":\"Wikidata-Integration\",\"link\":\"/5_Projects/Wikidata-Integration\"}],\"collapsed\":true},{\"text\":\"6_Advanced\",\"link\":\"/6_Advanced/index.md\",\"items\":[{\"text\":\"Anti-Spam-Tools\",\"link\":\"/6_Advanced/Anti-Spam-Tools\"},{\"text\":\"Component-Library\",\"link\":\"/6_Advanced/Component-Library\"},{\"text\":\"Creating-and-Logging-in-as-a-new-user-on-your-local-client\",\"link\":\"/6_Advanced/Creating-and-Logging-in-as-a-new-user-on-your-local-client\"},{\"text\":\"Debugging-and-Performance-Profiling\",\"link\":\"/6_Advanced/Debugging-and-Performance-Profiling\"},{\"text\":\"Deployment-Guide\",\"link\":\"/6_Advanced/Deployment-Guide\"},{\"text\":\"Deployment-Scratchpad\",\"link\":\"/6_Advanced/Deployment-Scratchpad\"},{\"text\":\"Developer's-Guide-to-Data-Importing\",\"link\":\"/6_Advanced/Developer's-Guide-to-Data-Importing\"},{\"text\":\"Disaster-History-Log\",\"link\":\"/6_Advanced/Disaster-History-Log\"},{\"text\":\"Disaster-Recovery-&-Immediate-Response\",\"link\":\"/6_Advanced/Disaster-Recovery-&-Immediate-Response\"},{\"text\":\"Feature-Flagging\",\"link\":\"/6_Advanced/Feature-Flagging\"},{\"text\":\"Generating-Data-Dumps\",\"link\":\"/6_Advanced/Generating-Data-Dumps\"},{\"text\":\"HOWTO:-Open-Library-Project-Management\",\"link\":\"/6_Advanced/HOWTO:-Open-Library-Project-Management\"},{\"text\":\"Monitoring\",\"link\":\"/6_Advanced/Monitoring\"},{\"text\":\"Podman-(docker-alternative)\",\"link\":\"/6_Advanced/Podman-(docker-alternative)\"},{\"text\":\"Processing-ONIX-Feeds\",\"link\":\"/6_Advanced/Processing-ONIX-Feeds\"},{\"text\":\"Production-Service-Architecture\",\"link\":\"/6_Advanced/Production-Service-Architecture\"},{\"text\":\"Production-Service-Architecture_old\",\"link\":\"/6_Advanced/Production-Service-Architecture_old\"},{\"text\":\"Provisioning-Guide\",\"link\":\"/6_Advanced/Provisioning-Guide\"},{\"text\":\"Sitemap-Generation\",\"link\":\"/6_Advanced/Sitemap-Generation\"},{\"text\":\"Solr\",\"link\":\"/6_Advanced/Solr\"},{\"text\":\"Using-Cache\",\"link\":\"/6_Advanced/Using-Cache\"},{\"text\":\"Using-the-API-with-Csharp\",\"link\":\"/6_Advanced/Using-the-API-with-Csharp\"},{\"text\":\"archive.org-↔-Open-Library-synchronisation\",\"link\":\"/6_Advanced/archive.org-↔-Open-Library-synchronisation\"}],\"collapsed\":true},{\"text\":\"Coding-Recipes\",\"link\":\"/Coding-Recipes\"},{\"text\":\"Developer's-Starter-Guide\",\"link\":\"/Developer's-Starter-Guide\"},{\"text\":\"Fellowships\",\"link\":\"/Fellowships\"},{\"text\":\"History\",\"link\":\"/History\"},{\"text\":\"Kubernetes\",\"link\":\"/Kubernetes\"},{\"text\":\"The-Lifecycle-of-a-Network-Request\",\"link\":\"/The-Lifecycle-of-a-Network-Request\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/internetarchive/openlibrary\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>