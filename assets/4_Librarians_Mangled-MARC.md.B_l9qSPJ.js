import{_ as t,c as r,o,ag as a}from"./chunks/framework.BRQrZDXk.js";const g=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"4_Librarians/Mangled-MARC.md","filePath":"4_Librarians/Mangled-MARC.md"}'),i={name:"4_Librarians/Mangled-MARC.md"};function n(s,e,d,l,h,p){return o(),r("div",null,e[0]||(e[0]=[a(`<p>Current query: <a href="https://openlibrary.org/search?q=title_suggest%3A%C2%A9+AND+ia%3A*&amp;mode=everything" target="_blank" rel="noreferrer">https://openlibrary.org/search?q=title_suggest%3A©+AND+ia%3A*&amp;mode=everything</a></p><p>It&#39;s been a while since I&#39;ve looked at this, but the mangling <em>is</em> lossy, and while it looks like the text can be easily repaired in the most common cases, it falls down when trying to fix everything properly. The correct fix will be to re-extract the strings from the MARC source, or compare against the original archive.org record since many (but not all) records are correct now.</p><h2 id="conversions" tabindex="-1">Conversions <a class="header-anchor" href="#conversions" aria-label="Permalink to &quot;Conversions&quot;">​</a></h2><table tabindex="0"><thead><tr><th>mangled</th><th>correction</th><th>source</th></tr></thead><tbody><tr><td><code>©♭</code></td><td><code>é</code> (e-acute)</td><td></td></tr><tr><td><code>©</code></td><td><code>à</code> (a-grave) OR <code>É</code></td><td><a href="https://openlibrary.org/works/OL17679814W/Trait%C2%A9%E2%99%AD_%C2%A9%E2%99%ADl%C2%A9%E2%99%ADmentaire_d%27anatomie?edition=key%3A/books/OL26283189M" target="_blank" rel="noreferrer">https://openlibrary.org/works/OL17679814W/Trait©♭_©♭l©♭mentaire_d&#39;anatomie?edition=key%3A/books/OL26283189M</a> and <a href="https://openlibrary.org/works/OL36423630W/D%C2%A9%E2%99%ADmonstrations_%C2%A9%E2%99%ADl%C2%A9%E2%99%ADmentaires_de_botanique_%C2%A9_l%27usage_de_l%27%C2%A9cole_Royale_V%C2%A9%E2%99%ADt%C2%A9%E2%99%ADrinaire?edition=key%3A/books/OL49214802M" target="_blank" rel="noreferrer">https://openlibrary.org/works/OL36423630W/D©♭monstrations_©♭l©♭mentaires_de_botanique_©_l&#39;usage_de_l&#39;©cole_Royale_V©♭t©♭rinaire?edition=key%3A/books/OL49214802M</a></td></tr><tr><td><code>©·</code></td><td><code>è</code> (e-grave) ??!</td><td></td></tr><tr><td><code>©Ł</code></td><td>combining grave</td><td></td></tr><tr><td><code>©Ø</code></td><td>combing acute</td><td></td></tr><tr><td><code>©ʻ</code></td><td>combining cedilla</td><td><a href="https://openlibrary.org/works/OL738281W/Trait%C2%A9%C3%98es_de_l%C2%A9%C3%98egislation_civile_et_p%C2%A9%C3%98enale?edition=key%3A/books/OL7074539M" target="_blank" rel="noreferrer">https://openlibrary.org/works/OL738281W/Trait©Øes_de_l©Øegislation_civile_et_p©Øenale?edition=key%3A/books/OL7074539M</a></td></tr><tr><td><code>©·</code></td><td>combining umlaut ??!</td><td></td></tr><tr><td><code>©ø</code></td><td>combining under-dot</td><td><a href="https://openlibrary.org/works/OL253565W?edition=key%3A/books/OL7178238M" target="_blank" rel="noreferrer">https://openlibrary.org/works/OL253565W?edition=key%3A/books/OL7178238M</a></td></tr><tr><td><code>©Æ</code></td><td>combining bar ??</td><td><a href="https://openlibrary.org/works/OL253565W?edition=key%3A/books/OL7178238M" target="_blank" rel="noreferrer">https://openlibrary.org/works/OL253565W?edition=key%3A/books/OL7178238M</a></td></tr><tr><td><code>Ã©</code></td><td><code>é</code> (e-acute)</td><td><a href="https://openlibrary.org/works/OL24875145W/Trait%C3%83%C2%A9_d%27hygi%C3%83%C2%A8ne_publique_et_priv%C3%83%C2%A9e?edition=key%3A/books/OL33065425M" target="_blank" rel="noreferrer">https://openlibrary.org/works/OL24875145W/TraitÃ©_d&#39;hygiÃ¨ne_publique_et_privÃ©e?edition=key%3A/books/OL33065425M</a></td></tr><tr><td><code>Ã¨</code></td><td><code>è</code> (e-grave)</td><td><a href="https://openlibrary.org/works/OL24875145W/Trait%C3%83%C2%A9_d%27hygi%C3%83%C2%A8ne_publique_et_priv%C3%83%C2%A9e?edition=key%3A/books/OL33065425M" target="_blank" rel="noreferrer">https://openlibrary.org/works/OL24875145W/TraitÃ©_d&#39;hygiÃ¨ne_publique_et_privÃ©e?edition=key%3A/books/OL33065425M</a></td></tr></tbody></table><h2 id="scale" tabindex="-1">Scale <a class="header-anchor" href="#scale" aria-label="Permalink to &quot;Scale&quot;">​</a></h2><p>Mangled <code>©♭</code> represents <code>é</code> (e-acute), there are other variations but e-acute is the most common form of this problem.</p><p>Looking for counts of mangled e-acute records in OL dumps:</p><pre><code>zgrep -c &quot;\\\\\\u00a9\\\\\\u266&quot; ol_dump_authors_2023-08-31.txt.gz
</code></pre><p><strong>Authors:</strong> 1,542</p><pre><code>zgrep -c &quot;\\\\\\u00a9\\\\\\u266&quot; ol_dump_works_2023-08-31.txt.gz
</code></pre><p><strong>Works:</strong> 8,974</p><pre><code>zgrep -c &quot;\\\\\\u00a9\\\\\\u266&quot; ol_dump_editions_2023-08-31.txt.gz
</code></pre><p><strong>Editions:</strong> 11,486</p><p>I <em>think</em> the MARC mangling in this way is reversible because the mangling is non-lossy. There <em>may</em> be exceptions. I have a vague recollection that sometimes it is not fully reversible, but that could be another form of MARC mangling, and there are many.</p><p>The other issue first reported is of diacritic characters being dropped leaving a space, e.g. <a href="https://openlibrary.org/authors/OL4459814A/Heinrich_Schro_der" target="_blank" rel="noreferrer">https://openlibrary.org/authors/OL4459814A/Heinrich_Schro_der</a><code>Heinrich Schro der</code> for Heinrich Schröder. This example does not have an archive.org scan, and does not appear to have a duplicate work or edition. It&#39;s unclear whether the author is duplicated or not since there isn&#39;t enough disambiguating info (i.e. dates or ids).</p><pre><code>zgrep &quot;[0-9]\\s2008&quot; ol_dump_authors_2023-08-31.txt.gz | egrep &quot;[a-z] [a-z]&quot; | grep -v &quot;\\\\\\u&quot; | grep &quot;[a-z] [a-z]&quot;
</code></pre><p>exclude things like von / de , only search in name fields (bios give false matches)</p><p>Highlighting which mangled titles are associated with actual item scans for priority might be a good idea. Presumably mangled strings reducing the discoverability of viewable items has more of a cost that mangled strings affecting viewing of just the metadata record.</p><h2 id="duplicate-hypothesis" tabindex="-1">Duplicate hypothesis: <a class="header-anchor" href="#duplicate-hypothesis" aria-label="Permalink to &quot;Duplicate hypothesis:&quot;">​</a></h2><p>The impact of these mangled titles is that the mangled authors/works/editions will be invisible to any matching algorithm (unless they can be matched by strong ids such as ISBN or LCCN -- EXPLORE FURTHER)</p><p>The consequence is that future dupes will not be matched and the un-mangled version will just be added as if it were a totally new record. That suggests that by now many of these mangled items will have been reimported correctly.</p><h3 id="example" tabindex="-1">Example: <a class="header-anchor" href="#example" aria-label="Permalink to &quot;Example:&quot;">​</a></h3><p><a href="https://openlibrary.org/authors/OL7244196A/Louis-Fr%C2%A9%E2%99%ADd%C2%A9%E2%99%ADric-Th%C2%A9%E2%99%ADodore-Albert_Rilliet" target="_blank" rel="noreferrer">https://openlibrary.org/authors/OL7244196A/Louis-Fr©♭d©♭ric-Th©♭odore-Albert_Rilliet</a></p><p>Louis-Fr©♭d©♭ric-Th©♭odore-Albert Rilliet</p><p>Louis-Frederic-Theodore-Albert Rilliet</p><p>Yes, duplicate author exists:</p><p><a href="https://openlibrary.org/authors/OL7420280A/Louis-Fr%C3%A9d%C3%A9ric-Th%C3%A9odore-Albert_Rilliet" target="_blank" rel="noreferrer">https://openlibrary.org/authors/OL7420280A/Louis-Frédéric-Théodore-Albert_Rilliet</a></p><p>It looks like we have work dupes, but it&#39;s not so clear with editions (volumes and multiple scanned items may complicated this)</p><p><a href="https://openlibrary.org/works/OL24879904W" target="_blank" rel="noreferrer">https://openlibrary.org/works/OL24879904W</a></p><p>Actually 3 vols -- 1,2 appear on the correct author, v3 appears on the mangled.</p><p><strong>POSSIBLE FIX:</strong> merge mangled author and work + correct v3 and move under correct work.</p><p>b21495506_0003 (archive.org item only exists once in the editions data -- the item link is not a dupe)</p><p>This example is complicated by multiple volumes in a series and how those should be handled in terms of works. It&#39;s possible the work should not be a dupe, but be a clearly marked V.3?</p><p>This is unlikely to happen through a MARC import since there is generally one MARC bibliographic record for a multivolume set.</p><p>For this example, the two works look to be technically dupe too but have imported separately by being in different languages.</p><p>Need some more examples.</p>`,36)]))}const u=t(i,[["render",n]]);export{g as __pageData,u as default};
